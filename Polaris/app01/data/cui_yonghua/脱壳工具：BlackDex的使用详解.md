
--- 
title:  脱壳工具：BlackDex的使用详解 
tags: []
categories: [] 

---
**1、`BlackDex`**：是一个运行在Android手机上的脱壳工具，支持5.0～12，无需依赖任何环境任何手机都可以使用，包括模拟器。只需几秒，即可对已安装包括未安装的APK进行脱壳。

>  
 备注：BlackDex可以当做备用的脱壳工具，如果想在未root的设备上脱壳，那么BlackDex是首选工具。 


**2、下载地址**：

**3、脱壳原理**：通过DexFile cookie进行脱壳，理论兼容art开始的所有版本。可能少数因设备而异，绝大部分是支持的。

**4、环境要求**：一台普通安卓手机，无需Xposed，无需Frida，无需Magisk，无需Root，无需定制系统

**5、脱壳流程**：
1. 下载相应的BlackDex的apk文件，安装在手机或者模拟器中；1. 选择脱壳文件，进行脱壳，得到dump下来的dex文件；1. 将dex文件复制到jex2jar目录下；1. 再使用jex2jar将其反编译为jar文件：`d2j-dex2jar.bat cookie1.dex`；1. 生成相应的jar文件。再去用jd-gui查看。
**6、深度脱壳**： 度脱壳模式下会自主修复被抽取的方法指令，将指向其他内存块的指令回填至DEX内，解决nop问题，但是不会确保一定会有用，例如：指令需要主动调用才解密等则无法回填或者说是无效回填。深度脱壳并不包含任何解密、主动调用等操作。

可能会出现以下情况：
- 脱壳时间会大幅度上升，预计几分钟都十几分钟不等- 脱壳期间有可能会出现应用闪退（遇到反检测等）- 会增加脱壳失败几率- 不一定能够100%还原
**7、部分脱壳前后对比**： <img src="https://img-blog.csdnimg.cn/1799b9e714ea4c71923a7d68491244e2.png" alt="在这里插入图片描述">
