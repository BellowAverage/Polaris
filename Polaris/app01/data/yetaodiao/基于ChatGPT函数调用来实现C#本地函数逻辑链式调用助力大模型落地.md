
--- 
title:  基于ChatGPT函数调用来实现C#本地函数逻辑链式调用助力大模型落地 
tags: []
categories: [] 

---
OpenAI 官网发布了重磅的 ChatGPT 更新，我相信大家都看到了 ，除了调用降本和增加更长的上下文版本外，开发者们最关心的应该还是新的函数调用能力。通过这项能力模型在需要的时候可以调用函数并生成对应的 JSON 对象作为输出。这使开发人员能更准确地从模型获取结构化数据，实现从自然语言到 API 调用或数据库查询的转换，也可以用于从文本中提取结构化数据。基于ChatGPT函数调用来实现C#本地函数逻辑链式调用助力大模型落地如果说之前的ChatGPT只能基于提示词结合类似的工具来实现调用链提示（比如大火的python LLM自动化库LangChain或者微软的Semantic Kernel），那么现在官方下场直接提供函数调用接口，无疑在稳定性(基于三方库的函数调用主要是依赖提示词实现，其稳定性和提示词质量高度相关)和易用性上都上了一大台阶。

　　今天.NET社区相关的SDK终于更新到了新的版本可以支持函数调用。今天我们就以一个具体的案例来讲一下什么是函数调用，基于函数调用我们可以实现哪些能力，从而将一个只能聊天的大语言模型落地到更加真实的业务场景中。相关代码demo已经更新到了github：https://github.com/sd797994/ChatgptFunctionCallDemo

　　现在我们假设一个业务场景，假设用户需要询问今天或者明天某个城市的天气情况，并且将相关的查询发送一封邮件到某个目标地址。在传统的开发中，我们一般会定义一个表单，让用户选择城市和日期，然后点击发送。系统会调用天气接口获取到天气，然后通过一段模板文本将占位符中的城市+日期+天气状况替换成查询的实际内容，然后发送给目标邮箱。整个流程大体如下：


