
--- 
title:  ç¡¬æ ¸çš„ Python é¢è¯•é¢˜ï¼Pythonç»å…¸é¢è¯•é¢˜æ€»ç»“ 
tags: []
categories: [] 

---


#### Pythoné¢è¯•é¢˜æ€»ç»“å¤§å…¨
- - <ul><li>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 


>  
 âœ…ä½œè€…ç®€ä»‹ï¼šå¤§å®¶å¥½æˆ‘æ˜¯ç¼–ç¨‹ID ğŸ“ƒä¸ªäººä¸»é¡µï¼šç¼–ç¨‹IDçš„csdnåšå®¢ ç³»åˆ—ä¸“æ ï¼šPython ğŸ’¬æ¨èä¸€æ¬¾ç¼–ç¨‹é¢˜åˆ·é¢˜ç¥å™¨ğŸ‘‰ 


## ä¸€ã€50 é“é‡è¦çš„ Python é¢è¯•é¢˜ã€é—®ç­”é¢˜+ç¼–ç¨‹é¢˜ã€‘

### 1. è¯´è¯´ä½ ç”¨è¿‡Pythonæ ‡å‡†åº“ä¸­çš„å“ªäº›æ¨¡å—ã€‚

>  
 **æ€è·¯**ï¼šPythonæ ‡å‡†åº“ä¸­çš„æ¨¡å—éå¸¸å¤šï¼Œå»ºè®®å¤§å®¶æ ¹æ®è‡ªå·±è¿‡å¾€çš„é¡¹ç›®ç»å†æ¥ä»‹ç»ä½ ç”¨è¿‡çš„æ ‡å‡†åº“å’Œä¸‰æ–¹åº“ï¼Œå› ä¸ºè¿™äº›æ˜¯ä½ æœ€ä¸ºç†Ÿæ‚‰çš„ï¼Œç»å¾—èµ·é¢è¯•å®˜æ·±æŒ–çš„ã€‚ 


<img src="https://img-blog.csdnimg.cn/28216c48a44f4367b5e76e04b1a05b35.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> <img src="https://img-blog.csdnimg.cn/fb4e76a42f6f4868b1feae1a9cb3c05e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

### 2. `init__`å’Œ`__new`æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

Pythonä¸­è°ƒç”¨æ„é€ å™¨åˆ›å»ºå¯¹è±¡å±äºä¸¤é˜¶æ®µæ„é€ è¿‡ç¨‹ï¼Œé¦–å…ˆæ‰§è¡Œ__new__æ–¹æ³•è·å¾—ä¿å­˜å¯¹è±¡æ‰€éœ€çš„å†…å­˜ç©ºé—´ï¼Œå†é€šè¿‡__init__æ‰§è¡Œå¯¹å†…å­˜ç©ºé—´æ•°æ®çš„å¡«å……ï¼ˆå¯¹è±¡å±æ€§çš„åˆå§‹åŒ–ï¼‰ã€‚__new__æ–¹æ³•çš„è¿”å›å€¼æ˜¯åˆ›å»ºå¥½çš„Pythonå¯¹è±¡ï¼ˆçš„å¼•ç”¨ï¼‰ï¼Œè€Œ__init__æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯è¿™ä¸ªå¯¹è±¡ï¼ˆçš„å¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥åœ¨__init__ä¸­å¯ä»¥å®Œæˆå¯¹å¯¹è±¡çš„åˆå§‹åŒ–æ“ä½œã€‚__new__æ˜¯ç±»æ–¹æ³•ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»ï¼Œ__init__æ˜¯å¯¹è±¡æ–¹æ³•ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹è±¡ã€‚

### 3. å¹³å¸¸å·¥ä½œä¸­ç”¨ä»€ä¹ˆå·¥å…·è¿›è¡Œé™æ€ä»£ç åˆ†æã€‚

>  
 **æ€è·¯**ï¼šé™æ€ä»£ç åˆ†æå·¥å…·å¯ä»¥ä»ä»£ç ä¸­æç‚¼å‡ºå„ç§é™æ€å±æ€§ï¼Œè¿™ä½¿å¾—å¼€å‘è€…å¯ä»¥å¯¹ä»£ç çš„å¤æ‚æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§æœ‰æ›´å¥½çš„äº†è§£ï¼Œè¿™é‡Œæ‰€è¯´çš„é™æ€å±æ€§åŒ…æ‹¬ï¼š ä»£ç æ˜¯å¦ç¬¦åˆç¼–ç è§„èŒƒï¼Œä¾‹å¦‚ï¼šPEP-8ã€‚ ä»£ç ä¸­æ½œåœ¨çš„é—®é¢˜ï¼ŒåŒ…æ‹¬ï¼šè¯­æ³•é”™è¯¯ã€ç¼©è¿›é—®é¢˜ã€å¯¼å…¥ç¼ºå¤±ã€å˜é‡è¦†ç›–ç­‰ã€‚ ä»£ç ä¸­çš„åå‘³é“ã€‚ ä»£ç çš„å¤æ‚åº¦ã€‚ ä»£ç çš„é€»è¾‘é—®é¢˜ã€‚ 


å·¥ä½œä¸­é™æ€ä»£ç åˆ†æä¸»è¦ç”¨åˆ°çš„æ˜¯Pylintå’ŒFlake8ã€‚Pylintå¯ä»¥æ£€æŸ¥å‡ºä»£ç é”™è¯¯ã€åå‘³é“ã€ä¸è§„èŒƒçš„ä»£ç ç­‰é—®é¢˜ï¼Œè¾ƒæ–°çš„ç‰ˆæœ¬ä¸­è¿˜æä¾›äº†ä»£ç å¤æ‚åº¦ç»Ÿè®¡æ•°æ®ï¼Œå¯ä»¥ç”Ÿæˆæ£€æŸ¥æŠ¥å‘Šã€‚Flake8å°è£…äº†Pyflakesï¼ˆæ£€æŸ¥ä»£ç é€»è¾‘é”™è¯¯ï¼‰ã€McCabeï¼ˆæ£€æŸ¥ä»£ç å¤æ‚æ€§ï¼‰å’ŒPycodestyleï¼ˆæ£€æŸ¥ä»£ç æ˜¯å¦ç¬¦åˆPEP-8è§„èŒƒï¼‰å·¥å…·ï¼Œå®ƒå¯ä»¥æ‰§è¡Œè¿™ä¸‰ä¸ªå·¥å…·æä¾›çš„æ£€æŸ¥ã€‚

### 4. å‡½æ•°å‚æ•°`arg`å’Œ`*kwargs`åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆï¼Ÿ

Pythonä¸­ï¼Œå‡½æ•°çš„å‚æ•°åˆ†ä¸ºä½ç½®å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°ã€‚**argsä»£è¡¨å¯å˜å‚æ•°ï¼Œå¯ä»¥æ¥æ”¶0ä¸ªæˆ–ä»»æ„å¤šä¸ªå‚æ•°ï¼Œå½“ä¸ç¡®å®šè°ƒç”¨è€…ä¼šä¼ å…¥å¤šå°‘ä¸ªä½ç½®å‚æ•°æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å¯å˜å‚æ•°ï¼Œå®ƒä¼šå°†ä¼ å…¥çš„å‚æ•°æ‰“åŒ…æˆä¸€ä¸ªå…ƒç»„ã€‚**kwargsä»£è¡¨å…³é”®å­—å‚æ•°ï¼Œå¯ä»¥æ¥æ”¶ç”¨å‚æ•°å=å‚æ•°å€¼çš„æ–¹å¼ä¼ å…¥çš„å‚æ•°ï¼Œä¼ å…¥çš„å‚æ•°çš„ä¼šæ‰“åŒ…æˆä¸€ä¸ªå­—å…¸ã€‚å®šä¹‰å‡½æ•°æ—¶å¦‚æœåŒæ—¶ä½¿ç”¨**argså’Œ**kwargsï¼Œé‚£ä¹ˆå‡½æ•°å¯ä»¥æ¥æ”¶ä»»æ„å‚æ•°ã€‚

### 5. ä»€ä¹ˆæ˜¯é¸­å­ç±»å‹ï¼ˆduck typingï¼‰ï¼Ÿ

é¸­å­ç±»å‹æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æŸç§ç±»å‹æ—¶ä½¿ç”¨çš„æ–¹æ³•ï¼Œä¹Ÿå«åšé¸­å­åˆ¤å®šæ³•ã€‚ç®€å•çš„è¯´ï¼Œé¸­å­ç±»å‹æ˜¯æŒ‡åˆ¤æ–­ä¸€åªé¸Ÿæ˜¯ä¸æ˜¯é¸­å­ï¼Œæˆ‘ä»¬åªå…³å¿ƒå®ƒæ¸¸æ³³åƒä¸åƒé¸­å­ã€å«èµ·æ¥åƒä¸åƒé¸­å­ã€èµ°è·¯åƒä¸åƒé¸­å­å°±è¶³å¤Ÿäº†ã€‚æ¢è¨€ä¹‹ï¼Œå¦‚æœå¯¹è±¡çš„è¡Œä¸ºè·Ÿæˆ‘ä»¬çš„é¢„æœŸæ˜¯ä¸€è‡´çš„ï¼ˆèƒ½å¤Ÿæ¥å—æŸäº›æ¶ˆæ¯ï¼‰ï¼Œæˆ‘ä»¬å°±è®¤å®šå®ƒæ˜¯æŸç§ç±»å‹çš„å¯¹è±¡ã€‚

åœ¨Pythonè¯­è¨€ä¸­ï¼Œæœ‰å¾ˆå¤šbytes-likeå¯¹è±¡ï¼ˆå¦‚ï¼šbytesã€bytearrayã€array.arrayã€memoryviewï¼‰ã€file-likeå¯¹è±¡ï¼ˆå¦‚ï¼šStringIOã€BytesIOã€GzipFileã€socketï¼‰ã€path-likeå¯¹è±¡ï¼ˆå¦‚ï¼šstrã€bytesï¼‰ï¼Œå…¶ä¸­file-likeå¯¹è±¡éƒ½èƒ½æ”¯æŒreadå’Œwriteæ“ä½œï¼Œå¯ä»¥åƒæ–‡ä»¶ä¸€æ ·è¯»å†™ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å¯¹è±¡æœ‰é¸­å­çš„è¡Œä¸ºå°±å¯ä»¥åˆ¤å®šä¸ºé¸­å­çš„åˆ¤å®šæ–¹æ³•ã€‚å†æ¯”å¦‚Pythonä¸­åˆ—è¡¨çš„extendæ–¹æ³•ï¼Œå®ƒéœ€è¦çš„å‚æ•°å¹¶ä¸ä¸€å®šè¦æ˜¯åˆ—è¡¨ï¼Œåªè¦æ˜¯å¯è¿­ä»£å¯¹è±¡å°±æ²¡æœ‰é—®é¢˜ã€‚

>  
 è¯´æ˜ï¼šåŠ¨æ€è¯­è¨€çš„é¸­å­ç±»å‹ä½¿å¾—è®¾è®¡æ¨¡å¼çš„åº”ç”¨è¢«å¤§å¤§ç®€åŒ–ã€‚ 


### 6. è¯´ä¸€ä¸‹Pythonä¸­å˜é‡çš„ä½œç”¨åŸŸã€‚

Pythonä¸­æœ‰å››ç§ä½œç”¨åŸŸï¼Œåˆ†åˆ«æ˜¯å±€éƒ¨ä½œç”¨åŸŸï¼ˆLocalï¼‰ã€åµŒå¥—ä½œç”¨åŸŸï¼ˆEmbeddedï¼‰ã€å…¨å±€ä½œç”¨åŸŸï¼ˆGlobalï¼‰ã€å†…ç½®ä½œç”¨åŸŸï¼ˆBuilt-inï¼‰ï¼Œæœç´¢ä¸€ä¸ªæ ‡è¯†ç¬¦æ—¶ï¼Œä¼šæŒ‰ç…§LEGBçš„é¡ºåºè¿›è¡Œæœç´¢ï¼Œå¦‚æœæ‰€æœ‰çš„ä½œç”¨åŸŸä¸­éƒ½æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ ‡è¯†ç¬¦ï¼Œå°±ä¼šå¼•å‘NameErrorå¼‚å¸¸ã€‚

è¯´ä¸€ä¸‹ä½ å¯¹é—­åŒ…çš„ç†è§£ã€‚ é—­åŒ…æ˜¯æ”¯æŒä¸€ç­‰å‡½æ•°çš„ç¼–ç¨‹è¯­è¨€ï¼ˆPythonã€JavaScriptç­‰ï¼‰ä¸­å®ç°è¯æ³•ç»‘å®šçš„ä¸€ç§æŠ€æœ¯ã€‚å½“æ•æ‰é—­åŒ…çš„æ—¶å€™ï¼Œå®ƒçš„è‡ªç”±å˜é‡ï¼ˆåœ¨å‡½æ•°å¤–éƒ¨å®šä¹‰ä½†åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨çš„å˜é‡ï¼‰ä¼šåœ¨æ•æ‰æ—¶è¢«ç¡®å®šï¼Œè¿™æ ·å³ä¾¿è„±ç¦»äº†æ•æ‰æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå®ƒä¹Ÿèƒ½ç…§å¸¸è¿è¡Œã€‚ç®€å•çš„è¯´ï¼Œå¯ä»¥å°†é—­åŒ…ç†è§£ä¸ºèƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚æ­£åœ¨æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„å±€éƒ¨å˜é‡åœ¨å‡½æ•°è°ƒç”¨ç»“æŸä¹‹åå°±ç»“æŸäº†ç”Ÿå‘½å‘¨æœŸï¼Œä½†æ˜¯é—­åŒ…ä½¿å¾—å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå¾—åˆ°äº†å»¶å±•ã€‚ä½¿ç”¨é—­åŒ…çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­åˆ›å»ºçš„å¯¹è±¡ä¸ä¼šè¢«åƒåœ¾å›æ”¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¾ˆå¤§çš„å†…å­˜å¼€é”€ï¼Œæ‰€ä»¥é—­åŒ…ä¸€å®šä¸èƒ½æ»¥ç”¨ã€‚

é¢˜ç›®29ï¼šè¯´ä¸€ä¸‹Pythonä¸­çš„å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„åº”ç”¨åœºæ™¯å’Œä¼˜ç¼ºç‚¹ã€‚ çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…CPUçš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…å†…å­˜çš„åŸºæœ¬å•ä½ã€‚é€šå¸¸æˆ‘ä»¬è¿è¡Œçš„ç¨‹åºä¼šåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œè€Œæ¯ä¸ªè¿›ç¨‹ä¸­åˆåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ã€‚å¤šçº¿ç¨‹çš„ä¼˜ç‚¹åœ¨äºå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥è¿›ç¨‹é—´çš„é€šä¿¡éå¸¸å®¹æ˜“å®ç°ï¼›ä½†æ˜¯å¦‚æœä½¿ç”¨å®˜æ–¹çš„CPythonè§£é‡Šå™¨ï¼Œå¤šçº¿ç¨‹å—åˆ¶äºGILï¼ˆå…¨å±€è§£é‡Šå™¨é”ï¼‰ï¼Œå¹¶ä¸èƒ½åˆ©ç”¨CPUçš„å¤šæ ¸ç‰¹æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ã€‚ä½¿ç”¨å¤šè¿›ç¨‹å¯ä»¥å……åˆ†åˆ©ç”¨CPUçš„å¤šæ ¸ç‰¹æ€§ï¼Œä½†æ˜¯è¿›ç¨‹é—´é€šä¿¡ç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ä½¿ç”¨IPCæœºåˆ¶ï¼ˆç®¡é“ã€å¥—æ¥å­—ç­‰ï¼‰ã€‚

å¤šçº¿ç¨‹é€‚åˆé‚£äº›ä¼šèŠ±è´¹å¤§é‡æ—¶é—´åœ¨I/Oæ“ä½œä¸Šï¼Œä½†æ²¡æœ‰å¤ªå¤šå¹¶è¡Œè®¡ç®—éœ€æ±‚ä¸”ä¸éœ€å ç”¨å¤ªå¤šå†…å­˜çš„I/Oå¯†é›†å‹åº”ç”¨ã€‚å¤šè¿›ç¨‹é€‚åˆæ‰§è¡Œè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚ï¼šè§†é¢‘ç¼–ç è§£ç ã€æ•°æ®å¤„ç†ã€ç§‘å­¦è®¡ç®—ç­‰ï¼‰ã€å¯ä»¥åˆ†è§£ä¸ºå¤šä¸ªå¹¶è¡Œå­ä»»åŠ¡å¹¶èƒ½åˆå¹¶å­ä»»åŠ¡æ‰§è¡Œç»“æœçš„ä»»åŠ¡ä»¥åŠåœ¨å†…å­˜ä½¿ç”¨æ–¹é¢æ²¡æœ‰ä»»ä½•é™åˆ¶ä¸”ä¸å¼ºä¾èµ–äºI/Oæ“ä½œçš„ä»»åŠ¡ã€‚

æ‰©å±•ï¼šPythonä¸­å®ç°å¹¶å‘ç¼–ç¨‹é€šå¸¸æœ‰å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹å’Œå¼‚æ­¥ç¼–ç¨‹ä¸‰ç§é€‰æ‹©ã€‚å¼‚æ­¥ç¼–ç¨‹å®ç°äº†åä½œå¼å¹¶å‘ï¼Œé€šè¿‡å¤šä¸ªç›¸äº’åä½œçš„å­ç¨‹åºçš„ç”¨æˆ·æ€åˆ‡æ¢ï¼Œå®ç°å¯¹CPUçš„é«˜æ•ˆåˆ©ç”¨ï¼Œè¿™ç§æ–¹å¼ä¹Ÿæ˜¯éå¸¸é€‚åˆI/Oå¯†é›†å‹åº”ç”¨çš„ã€‚

### 8. è¯´ä¸€ä¸‹Python 2å’ŒPython 3çš„åŒºåˆ«ã€‚

>  
 **æ€è·¯**ï¼šè¿™ç§é—®é¢˜åƒä¸‡ä¸è¦èƒŒæ‰€è°“çš„å‚è€ƒç­”æ¡ˆï¼Œè¯´ä¸€äº›è‡ªå·±æœ€ç†Ÿæ‚‰çš„å°±è¶³å¤Ÿäº†ã€‚ 

1. Python 2ä¸­çš„printå’Œexecéƒ½æ˜¯å…³é”®å­—ï¼Œåœ¨Python 3ä¸­å˜æˆäº†å‡½æ•°ã€‚1. Python 3ä¸­æ²¡æœ‰longç±»å‹ï¼Œæ•´æ•°éƒ½æ˜¯intç±»å‹ã€‚1. Python 2ä¸­çš„ä¸ç­‰å·&lt;&gt;åœ¨Python 3ä¸­è¢«åºŸå¼ƒï¼Œç»Ÿä¸€ä½¿ç”¨!=ã€‚1. Python 2ä¸­çš„xrangeå‡½æ•°åœ¨Python 3ä¸­è¢«rangeå‡½æ•°å–ä»£ã€‚1. Python 3å¯¹Python 2ä¸­ä¸å®‰å…¨çš„inputå‡½æ•°åšå‡ºäº†æ”¹è¿›ï¼ŒåºŸå¼ƒäº†raw_inputå‡½æ•°ã€‚1. Python 2ä¸­çš„fileå‡½æ•°è¢«Python 3ä¸­çš„openå‡½æ•°å–ä»£ã€‚1. Python 2ä¸­çš„/è¿ç®—å¯¹äºintç±»å‹æ˜¯æ•´é™¤ï¼Œåœ¨Python 3ä¸­è¦ç”¨//æ¥åšæ•´é™¤é™¤æ³•ã€‚1. Python 3ä¸­æ”¹è¿›äº†Python 2æ•è·å¼‚å¸¸çš„ä»£ç ï¼Œå¾ˆæ˜æ˜¾Python 3çš„å†™æ³•æ›´åˆç†ã€‚1. Python 3ç”Ÿæˆå¼ä¸­å¾ªç¯å˜é‡çš„ä½œç”¨åŸŸå¾—åˆ°äº†æ›´å¥½çš„æ§åˆ¶ï¼Œä¸ä¼šå½±å“åˆ°ç”Ÿæˆå¼ä¹‹å¤–çš„åŒåå˜é‡ã€‚1. Python 3ä¸­çš„roundå‡½æ•°å¯ä»¥è¿”å›intæˆ–floatç±»å‹ï¼ŒPython 2ä¸­çš„roundå‡½æ•°è¿”å›floatç±»å‹ã€‚1. Python 3çš„strç±»å‹æ˜¯Unicodeå­—ç¬¦ä¸²ï¼ŒPython 2çš„strç±»å‹æ˜¯å­—èŠ‚ä¸²ï¼Œç›¸å½“äºPython 3ä¸­çš„bytesã€‚1. Python 3ä¸­çš„æ¯”è¾ƒè¿ç®—ç¬¦å¿…é¡»æ¯”è¾ƒåŒç±»å¯¹è±¡ã€‚1. Python 3ä¸­å®šä¹‰ç±»çš„éƒ½æ˜¯æ–°å¼ç±»ï¼ŒPython 2ä¸­å®šä¹‰çš„ç±»æœ‰æ–°å¼ç±»ï¼ˆæ˜¾å¼ç»§æ‰¿è‡ªobjectçš„ç±»ï¼‰å’Œæ—§å¼ç±»ï¼ˆç»å…¸ç±»ï¼‰ä¹‹åˆ†ï¼Œæ–°å¼ç±»å’Œæ—§å¼ç±»åœ¨MROé—®é¢˜ä¸Šæœ‰éå¸¸æ˜¾è‘—çš„åŒºåˆ«ï¼Œæ–°å¼ç±»å¯ä»¥ä½¿ç”¨class__`å±æ€§è·å–è‡ªèº«ç±»å‹ï¼Œæ–°å¼ç±»å¯ä»¥ä½¿ç”¨`__slotsé­”æ³•ã€‚1. Python 3å¯¹ä»£ç ç¼©è¿›çš„è¦æ±‚æ›´åŠ ä¸¥æ ¼ï¼Œå¦‚æœæ··ç”¨ç©ºæ ¼å’Œåˆ¶è¡¨é”®ä¼šå¼•å‘TabErrorã€‚1. Python 3ä¸­å­—å…¸çš„keysã€valuesã€itemsæ–¹æ³•éƒ½ä¸å†è¿”å›listå¯¹è±¡ï¼Œè€Œæ˜¯è¿”å›view objectï¼Œå†…ç½®çš„mapã€filterç­‰å‡½æ•°ä¹Ÿä¸å†è¿”å›listå¯¹è±¡ï¼Œè€Œæ˜¯è¿”å›è¿­ä»£å™¨å¯¹è±¡ã€‚1. Python 3æ ‡å‡†åº“ä¸­æŸäº›æ¨¡å—çš„åå­—è·ŸPython 2æ˜¯æœ‰åŒºåˆ«çš„ï¼›è€Œåœ¨ä¸‰æ–¹åº“æ–¹é¢ï¼Œæœ‰äº›ä¸‰æ–¹åº“åªæ”¯æŒPython 2ï¼Œæœ‰äº›åªèƒ½æ”¯æŒPython 3ã€‚
### 9. è§£é‡Šä¸€ä¸‹çº¿ç¨‹æ± çš„å·¥ä½œåŸç†ã€‚

>  
 **æ€è·¯**ï¼šæ± åŒ–æŠ€æœ¯å°±æ˜¯ä¸€ç§å…¸å‹ç©ºé—´æ¢æ—¶é—´çš„ç­–ç•¥ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ•°æ®åº“è¿æ¥æ± ã€çº¿ç¨‹æ± ç­‰éƒ½æ˜¯æ± åŒ–æŠ€æœ¯çš„åº”ç”¨ï¼ŒPythonæ ‡å‡†åº“currrent.futuresæ¨¡å—çš„ThreadPoolExecutorå°±æ˜¯çº¿ç¨‹æ± çš„å®ç°ï¼Œå¦‚æœè¦å¼„æ¸…æ¥šå®ƒçš„å·¥ä½œåŸç†ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„å†…å®¹ã€‚ 


çº¿ç¨‹æ± æ˜¯ä¸€ç§ç”¨äºå‡å°‘çº¿ç¨‹æœ¬èº«åˆ›å»ºå’Œé”€æ¯é€ æˆçš„å¼€é”€çš„æŠ€æœ¯ï¼Œå±äºå…¸å‹çš„ç©ºé—´æ¢æ—¶é—´æ“ä½œã€‚å¦‚æœåº”ç”¨ç¨‹åºéœ€è¦é¢‘ç¹çš„å°†ä»»åŠ¡æ´¾å‘åˆ°çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œçº¿ç¨‹æ± å°±æ˜¯å¿…é€‰é¡¹ï¼Œå› ä¸ºåˆ›å»ºå’Œé‡Šæ”¾çº¿ç¨‹æ¶‰åŠåˆ°å¤§é‡çš„ç³»ç»Ÿåº•å±‚æ“ä½œï¼Œå¼€é”€è¾ƒå¤§ï¼Œå¦‚æœèƒ½å¤Ÿåœ¨åº”ç”¨ç¨‹åºå·¥ä½œæœŸé—´ï¼Œå°†åˆ›å»ºå’Œé‡Šæ”¾çº¿ç¨‹çš„æ“ä½œå˜æˆé¢„åˆ›å»ºå’Œå€Ÿè¿˜æ“ä½œï¼Œå°†å¤§å¤§å‡å°‘åº•å±‚å¼€é”€ã€‚çº¿ç¨‹æ± åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨åï¼Œç«‹å³åˆ›å»ºä¸€å®šæ•°é‡çš„çº¿ç¨‹ï¼Œæ”¾å…¥ç©ºé—²é˜Ÿåˆ—ä¸­ã€‚è¿™äº›çº¿ç¨‹æœ€å¼€å§‹éƒ½å¤„äºé˜»å¡çŠ¶æ€ï¼Œä¸ä¼šæ¶ˆè€—CPUèµ„æºï¼Œä½†ä¼šå ç”¨å°‘é‡çš„å†…å­˜ç©ºé—´ã€‚å½“ä»»åŠ¡åˆ°æ¥åï¼Œä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªç©ºé—²çº¿ç¨‹ï¼ŒæŠŠä»»åŠ¡æ´¾å‘åˆ°è¿™ä¸ªçº¿ç¨‹ä¸­è¿è¡Œï¼Œå¹¶å°†è¯¥çº¿ç¨‹æ ‡è®°ä¸ºå·²å ç”¨ã€‚å½“çº¿ç¨‹æ± ä¸­æ‰€æœ‰çš„çº¿ç¨‹éƒ½è¢«å ç”¨åï¼Œå¯ä»¥é€‰æ‹©è‡ªåŠ¨åˆ›å»ºä¸€å®šæ•°é‡çš„æ–°çº¿ç¨‹ï¼Œç”¨äºå¤„ç†æ›´å¤šçš„ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©è®©ä»»åŠ¡æ’é˜Ÿç­‰å¾…ç›´åˆ°æœ‰ç©ºé—²çš„çº¿ç¨‹å¯ç”¨ã€‚åœ¨ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œçº¿ç¨‹å¹¶ä¸é€€å‡ºç»“æŸï¼Œè€Œæ˜¯ç»§ç»­ä¿æŒåœ¨æ± ä¸­ç­‰å¾…ä¸‹ä¸€æ¬¡çš„ä»»åŠ¡ã€‚å½“ç³»ç»Ÿæ¯”è¾ƒç©ºé—²æ—¶ï¼Œå¤§éƒ¨åˆ†çº¿ç¨‹é•¿æ—¶é—´å¤„äºé—²ç½®çŠ¶æ€æ—¶ï¼Œçº¿ç¨‹æ± å¯ä»¥è‡ªåŠ¨é”€æ¯ä¸€éƒ¨åˆ†çº¿ç¨‹ï¼Œå›æ”¶ç³»ç»Ÿèµ„æºã€‚åŸºäºè¿™ç§é¢„åˆ›å»ºæŠ€æœ¯ï¼Œçº¿ç¨‹æ± å°†çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯æœ¬èº«æ‰€å¸¦æ¥çš„å¼€é”€åˆ†æ‘Šåˆ°äº†å„ä¸ªå…·ä½“çš„ä»»åŠ¡ä¸Šï¼Œæ‰§è¡Œæ¬¡æ•°è¶Šå¤šï¼Œæ¯ä¸ªä»»åŠ¡æ‰€åˆ†æ‹…åˆ°çš„çº¿ç¨‹æœ¬èº«å¼€é”€åˆ™è¶Šå°ã€‚

ä¸€èˆ¬çº¿ç¨‹æ± éƒ½å¿…é¡»å…·å¤‡ä¸‹é¢å‡ ä¸ªç»„æˆéƒ¨åˆ†ï¼š
1. çº¿ç¨‹æ± ç®¡ç†å™¨ï¼šç”¨äºåˆ›å»ºå¹¶ç®¡ç†çº¿ç¨‹æ± ã€‚1. å·¥ä½œçº¿ç¨‹å’Œçº¿ç¨‹é˜Ÿåˆ—ï¼šçº¿ç¨‹æ± ä¸­å®é™…æ‰§è¡Œçš„çº¿ç¨‹ä»¥åŠä¿å­˜è¿™äº›çº¿ç¨‹çš„å®¹å™¨ã€‚1. ä»»åŠ¡æ¥å£ï¼šå°†çº¿ç¨‹æ‰§è¡Œçš„ä»»åŠ¡æŠ½è±¡å‡ºæ¥ï¼Œå½¢æˆä»»åŠ¡æ¥å£ï¼Œç¡®ä¿çº¿ç¨‹æ± ä¸å…·ä½“çš„ä»»åŠ¡æ— å…³ã€‚1. ä»»åŠ¡é˜Ÿåˆ—ï¼šçº¿ç¨‹æ± ä¸­ä¿å­˜ç­‰å¾…è¢«æ‰§è¡Œçš„ä»»åŠ¡çš„å®¹å™¨ã€‚
### 10. ä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°`KeyError`ã€`TypeError`ã€`ValueError`ã€‚

ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå˜é‡aæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œæ‰§è¡Œint(a[â€˜xâ€™])è¿™ä¸ªæ“ä½œå°±æœ‰å¯èƒ½å¼•å‘ä¸Šè¿°ä¸‰ç§ç±»å‹çš„å¼‚å¸¸ã€‚å¦‚æœå­—å…¸ä¸­æ²¡æœ‰é”®xï¼Œä¼šå¼•å‘KeyErrorï¼›å¦‚æœé”®xå¯¹åº”çš„å€¼ä¸æ˜¯strã€floatã€intã€boolä»¥åŠbytes-likeç±»å‹ï¼Œåœ¨è°ƒç”¨intå‡½æ•°æ„é€ intç±»å‹çš„å¯¹è±¡æ—¶ï¼Œä¼šå¼•å‘TypeErrorï¼›å¦‚æœa[x]æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—èŠ‚ä¸²ï¼Œè€Œå¯¹åº”çš„å†…å®¹åˆæ— æ³•å¤„ç†æˆintæ—¶ï¼Œå°†å¼•å‘ValueErrorã€‚

### 11. è¯´ä¸€ä¸‹ä½ å¯¹Pythonä¸­æ¨¡å—å’ŒåŒ…çš„ç†è§£ã€‚

æ¯ä¸ªPythonæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œè€Œä¿å­˜è¿™äº›æ–‡ä»¶çš„æ–‡ä»¶å¤¹å°±æ˜¯ä¸€ä¸ªåŒ…ï¼Œä½†æ˜¯è¿™ä¸ªä½œä¸ºPythonåŒ…çš„æ–‡ä»¶å¤¹å¿…é¡»è¦æœ‰ä¸€ä¸ªåä¸º__init__.pyçš„æ–‡ä»¶ï¼Œå¦åˆ™æ— æ³•å¯¼å…¥è¿™ä¸ªåŒ…ã€‚é€šå¸¸ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹è¿˜å¯ä»¥æœ‰å­æ–‡ä»¶å¤¹ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ä¸€ä¸ªåŒ…ä¸‹è¿˜å¯ä»¥æœ‰å­åŒ…ï¼Œå­åŒ…ä¸­çš„__init__.pyå¹¶ä¸æ˜¯å¿…é¡»çš„ã€‚æ¨¡å—å’ŒåŒ…è§£å†³äº†Pythonä¸­å‘½åå†²çªçš„é—®é¢˜ï¼Œä¸åŒçš„åŒ…ä¸‹å¯ä»¥æœ‰åŒåçš„æ¨¡å—ï¼Œä¸åŒçš„æ¨¡å—ä¸‹å¯ä»¥æœ‰åŒåçš„å˜é‡ã€å‡½æ•°æˆ–ç±»ã€‚åœ¨Pythonä¸­å¯ä»¥ä½¿ç”¨importæˆ–from â€¦ import â€¦æ¥å¯¼å…¥åŒ…å’Œæ¨¡å—ï¼Œåœ¨å¯¼å…¥çš„æ—¶å€™è¿˜å¯ä»¥ä½¿ç”¨aså…³é”®å­—å¯¹åŒ…ã€æ¨¡å—ã€ç±»ã€å‡½æ•°ã€å˜é‡ç­‰è¿›è¡Œåˆ«åï¼Œä»è€Œå½»åº•è§£å†³ç¼–ç¨‹ä¸­å°¤å…¶æ˜¯å¤šäººåä½œå›¢é˜Ÿå¼€å‘æ—¶çš„å‘½åå†²çªé—®é¢˜ã€‚

### 12. è¯´ä¸€ä¸‹ä½ çŸ¥é“çš„Pythonç¼–ç è§„èŒƒã€‚

>  
 **æ€è·¯**ï¼šä¼ä¸šçš„Pythonç¼–ç è§„èŒƒåŸºæœ¬ä¸Šæ˜¯å‚ç…§PEP-8æˆ–è°·æ­Œå¼€æºé¡¹ç›®é£æ ¼æŒ‡å—æ¥åˆ¶å®šçš„ï¼Œåè€…è¿˜æåˆ°äº†å¯ä»¥ä½¿ç”¨Lintå·¥å…·æ¥æ£€æŸ¥ä»£ç çš„è§„èŒƒç¨‹åº¦ï¼Œé¢è¯•çš„æ—¶å€™é‡åˆ°è¿™ç±»é—®é¢˜ï¼Œå¯ä»¥å…ˆè¯´ä¸‹è¿™ä¸¤ä¸ªå‚ç…§æ ‡å‡†ï¼Œç„¶åæŒ‘é‡ç‚¹è¯´ä¸€ä¸‹Pythonç¼–ç çš„æ³¨æ„äº‹é¡¹ã€‚ 


**ç©ºæ ¼çš„ä½¿ç”¨**

ä½¿ç”¨ç©ºæ ¼æ¥è¡¨ç¤ºç¼©è¿›è€Œä¸è¦ç”¨åˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰ã€‚

å’Œè¯­æ³•ç›¸å…³çš„æ¯ä¸€å±‚ç¼©è¿›éƒ½ç”¨4ä¸ªç©ºæ ¼æ¥è¡¨ç¤ºã€‚

æ¯è¡Œçš„å­—ç¬¦æ•°ä¸è¦è¶…è¿‡79ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¡¨è¾¾å¼å› å¤ªé•¿è€Œå æ®äº†å¤šè¡Œï¼Œé™¤äº†é¦–è¡Œä¹‹å¤–çš„å…¶ä½™å„è¡Œéƒ½åº”è¯¥åœ¨æ­£å¸¸çš„ç¼©è¿›å®½åº¦ä¸Šå†åŠ ä¸Š4ä¸ªç©ºæ ¼ã€‚

å‡½æ•°å’Œç±»çš„å®šä¹‰ï¼Œä»£ç å‰åéƒ½è¦ç”¨ä¸¤ä¸ªç©ºè¡Œè¿›è¡Œåˆ†éš”ã€‚

åœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œå„ä¸ªæ–¹æ³•ä¹‹é—´åº”è¯¥ç”¨ä¸€ä¸ªç©ºè¡Œè¿›è¡Œåˆ†éš”ã€‚

äºŒå…ƒè¿ç®—ç¬¦çš„å·¦å³ä¸¤ä¾§åº”è¯¥ä¿ç•™ä¸€ä¸ªç©ºæ ¼ï¼Œè€Œä¸”åªè¦ä¸€ä¸ªç©ºæ ¼å°±å¥½ã€‚

**æ ‡è¯†ç¬¦å‘½å**

å˜é‡ã€å‡½æ•°å’Œå±æ€§åº”è¯¥ä½¿ç”¨å°å†™å­—æ¯æ¥æ‹¼å†™ï¼Œå¦‚æœæœ‰å¤šä¸ªå•è¯å°±ä½¿ç”¨ä¸‹åˆ’çº¿è¿›è¡Œè¿æ¥ã€‚

ç±»ä¸­å—ä¿æŠ¤çš„å®ä¾‹å±æ€§ï¼Œåº”è¯¥ä»¥ä¸€ä¸ªä¸‹åˆ’çº¿å¼€å¤´ã€‚

ç±»ä¸­ç§æœ‰çš„å®ä¾‹å±æ€§ï¼Œåº”è¯¥ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ã€‚

ç±»å’Œå¼‚å¸¸çš„å‘½åï¼Œåº”è¯¥æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚

æ¨¡å—çº§åˆ«çš„å¸¸é‡ï¼Œåº”è¯¥é‡‡ç”¨å…¨å¤§å†™å­—æ¯ï¼Œå¦‚æœæœ‰å¤šä¸ªå•è¯å°±ç”¨ä¸‹åˆ’çº¿è¿›è¡Œè¿æ¥ã€‚

ç±»çš„å®ä¾‹æ–¹æ³•ï¼Œåº”è¯¥æŠŠç¬¬ä¸€ä¸ªå‚æ•°å‘½åä¸ºselfä»¥è¡¨ç¤ºå¯¹è±¡è‡ªèº«ã€‚

ç±»çš„ç±»æ–¹æ³•ï¼Œåº”è¯¥æŠŠç¬¬ä¸€ä¸ªå‚æ•°å‘½åä¸ºclsä»¥è¡¨ç¤ºè¯¥ç±»è‡ªèº«ã€‚

**è¡¨è¾¾å¼å’Œè¯­å¥**

é‡‡ç”¨å†…è”å½¢å¼çš„å¦å®šè¯ï¼Œè€Œä¸è¦æŠŠå¦å®šè¯æ”¾åœ¨æ•´ä¸ªè¡¨è¾¾å¼çš„å‰é¢ã€‚ä¾‹å¦‚ï¼šif a is not bå°±æ¯”if not a is bæ›´å®¹æ˜“è®©äººç†è§£ã€‚

ä¸è¦ç”¨æ£€æŸ¥é•¿åº¦çš„æ–¹å¼æ¥åˆ¤æ–­å­—ç¬¦ä¸²ã€åˆ—è¡¨ç­‰æ˜¯å¦ä¸ºNoneæˆ–è€…æ²¡æœ‰å…ƒç´ ï¼Œåº”è¯¥ç”¨if not xè¿™æ ·çš„å†™æ³•æ¥æ£€æŸ¥å®ƒã€‚

å°±ç®—ifåˆ†æ”¯ã€forå¾ªç¯ã€exceptå¼‚å¸¸æ•è·ç­‰ä¸­åªæœ‰ä¸€è¡Œä»£ç ï¼Œä¹Ÿä¸è¦å°†ä»£ç å’Œifã€forã€exceptç­‰å†™åœ¨ä¸€èµ·ï¼Œåˆ†å¼€å†™æ‰ä¼šè®©ä»£ç æ›´æ¸…æ™°ã€‚

importè¯­å¥æ€»æ˜¯æ”¾åœ¨æ–‡ä»¶å¼€å¤´çš„åœ°æ–¹ã€‚

å¼•å…¥æ¨¡å—çš„æ—¶å€™ï¼Œfrom math import sqrtæ¯”import mathæ›´å¥½ã€‚

å¦‚æœæœ‰å¤šä¸ªimportè¯­å¥ï¼Œåº”è¯¥å°†å…¶åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œä»ä¸Šåˆ°ä¸‹åˆ†åˆ«æ˜¯Pythonæ ‡å‡†æ¨¡å—ã€ç¬¬ä¸‰æ–¹æ¨¡å—å’Œè‡ªå®šä¹‰æ¨¡å—ï¼Œæ¯ä¸ªéƒ¨åˆ†å†…éƒ¨åº”è¯¥æŒ‰ç…§æ¨¡å—åç§°çš„å­—æ¯è¡¨é¡ºåºæ¥æ’åˆ—ã€‚

### 13. è¯´è¯´Pythonä¸­çš„æµ…æ‹·è´å’Œæ·±æ‹·è´ã€‚

>  
 æ€è·¯ï¼šè¿™ä¸ªé¢˜ç›®æœ¬èº«å‡ºç°çš„é¢‘ç‡éå¸¸é«˜ï¼Œä½†æ˜¯å°±é¢˜è®ºé¢˜è€Œè¨€æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡ã€‚å¯¹äºè¿™ç§é¢è¯•é¢˜ï¼Œåœ¨å›ç­”çš„æ—¶å€™ä¸€å®šè¦è®©ä½ çš„ç­”æ¡ˆèƒ½å¤Ÿè¶…å‡ºé¢è¯•å®˜çš„é¢„æœŸï¼Œè¿™æ ·æ‰èƒ½è·å¾—æ›´å¥½çš„å°è±¡åˆ†ã€‚æ‰€ä»¥å›ç­”è¿™ä¸ªé¢˜ç›®çš„è¦ç‚¹ä¸ä»…ä»…æ˜¯èƒ½å¤Ÿè¯´å‡ºæµ…æ‹·è´å’Œæ·±æ‹·è´çš„åŒºåˆ«ï¼Œæ·±æ‹·è´çš„æ—¶å€™å¯èƒ½é‡åˆ°çš„ä¸¤å¤§é—®é¢˜ï¼Œè¿˜è¦è¯´å‡ºPythonæ ‡å‡†åº“å¯¹æµ…æ‹·è´å’Œæ·±æ‹·è´çš„æ”¯æŒï¼Œç„¶åå¯ä»¥è¯´è¯´åˆ—è¡¨ã€å­—å…¸å¦‚ä½•å®ç°æ‹·è´æ“ä½œä»¥åŠå¦‚ä½•é€šè¿‡åºåˆ—åŒ–å’Œååºåˆ—çš„æ–¹å¼å®ç°æ·±æ‹·è´ï¼Œæœ€åè¿˜å¯ä»¥æåˆ°è®¾è®¡æ¨¡å¼ä¸­çš„åŸå‹æ¨¡å¼ä»¥åŠå®ƒåœ¨é¡¹ç›®ä¸­çš„åº”ç”¨ã€‚ 


**æµ…æ‹·è´**é€šå¸¸åªå¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œè€Œ**æ·±æ‹·è´**ä¸ä»…ä¼šå¤åˆ¶å¯¹è±¡ï¼Œè¿˜ä¼šé€’å½’çš„å¤åˆ¶å¯¹è±¡æ‰€å…³è”çš„å¯¹è±¡ã€‚æ·±æ‹·è´å¯èƒ½ä¼šé‡åˆ°ä¸¤ä¸ªé—®é¢˜ï¼šä¸€æ˜¯ä¸€ä¸ªå¯¹è±¡å¦‚æœç›´æ¥æˆ–é—´æ¥çš„å¼•ç”¨äº†è‡ªèº«ï¼Œä¼šå¯¼è‡´æ— ä¼‘æ­¢çš„é€’å½’æ‹·è´ï¼›äºŒæ˜¯æ·±æ‹·è´å¯èƒ½å¯¹åŸæœ¬è®¾è®¡ä¸ºå¤šä¸ªå¯¹è±¡å…±äº«çš„æ•°æ®ä¹Ÿè¿›è¡Œæ‹·è´ã€‚Pythoné€šè¿‡copyæ¨¡å—ä¸­çš„copyå’Œdeepcopyå‡½æ•°æ¥å®ç°æµ…æ‹·è´å’Œæ·±æ‹·è´æ“ä½œï¼Œå…¶ä¸­deepcopyå¯ä»¥é€šè¿‡memoå­—å…¸æ¥ä¿å­˜å·²ç»æ‹·è´è¿‡çš„å¯¹è±¡ï¼Œä»è€Œé¿å…åˆšæ‰æ‰€è¯´çš„è‡ªå¼•ç”¨é€’å½’é—®é¢˜ï¼›æ­¤å¤–ï¼Œå¯ä»¥é€šè¿‡copyregæ¨¡å—çš„pickleå‡½æ•°æ¥å®šåˆ¶æŒ‡å®šç±»å‹å¯¹è±¡çš„æ‹·è´è¡Œä¸ºã€‚

deepcopyå‡½æ•°çš„æœ¬è´¨å…¶å®å°±æ˜¯å¯¹è±¡çš„ä¸€æ¬¡åºåˆ—åŒ–å’Œä¸€æ¬¡è¿”å›åºåˆ—åŒ–ï¼Œé¢è¯•é¢˜ä¸­è¿˜è€ƒè¿‡ç”¨è‡ªå®šä¹‰å‡½æ•°å®ç°å¯¹è±¡çš„æ·±æ‹·è´æ“ä½œï¼Œæ˜¾ç„¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨pickleæ¨¡å—çš„dumpså’Œloadsæ¥åšåˆ°ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚

```
import pickle

my_deep_copy = lambda obj: pickle.loads(pickle.dumps(obj))

```

åˆ—è¡¨çš„åˆ‡ç‰‡æ“ä½œ[:]ç›¸å½“äºå®ç°äº†åˆ—è¡¨å¯¹è±¡çš„æµ…æ‹·è´ï¼Œè€Œå­—å…¸çš„copyæ–¹æ³•å¯ä»¥å®ç°å­—å…¸å¯¹è±¡çš„æµ…æ‹·è´ã€‚å¯¹è±¡æ‹·è´å…¶å®æ˜¯æ›´ä¸ºå¿«æ·çš„åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ã€‚åœ¨Pythonä¸­ï¼Œé€šè¿‡æ„é€ å™¨åˆ›å»ºå¯¹è±¡å±äºä¸¤é˜¶æ®µæ„é€ ï¼Œé¦–å…ˆæ˜¯åˆ†é…å†…å­˜ç©ºé—´ï¼Œç„¶åæ˜¯åˆå§‹åŒ–ã€‚åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åŸºäºâ€œåŸå‹â€å¯¹è±¡æ¥åˆ›å»ºæ–°å¯¹è±¡ï¼Œé€šè¿‡å¯¹åŸå‹å¯¹è±¡çš„æ‹·è´ï¼ˆå¤åˆ¶å†…å­˜ï¼‰å°±å®Œæˆäº†å¯¹è±¡çš„åˆ›å»ºå’Œåˆå§‹åŒ–ï¼Œè¿™ç§åšæ³•æ›´åŠ é«˜æ•ˆï¼Œè¿™ä¹Ÿå°±æ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„åŸå‹æ¨¡å¼ã€‚åœ¨Pythonä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…ƒç±»çš„æ–¹å¼æ¥å®ç°åŸå‹æ¨¡å¼ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚

```
import copy


class PrototypeMeta(type):
    """å®ç°åŸå‹æ¨¡å¼çš„å…ƒç±»"""

    def __init__(cls, *args, **kwargs):
        super().__init__(*args, **kwargs)
        # ä¸ºå¯¹è±¡ç»‘å®šcloneæ–¹æ³•æ¥å®ç°å¯¹è±¡æ‹·è´
        cls.clone = lambda self, is_deep=True: \
            copy.deepcopy(self) if is_deep else copy.copy(self)


class Person(metaclass=PrototypeMeta):
    pass


p1 = Person()
p2 = p1.clone()                 # æ·±æ‹·è´
p3 = p1.clone(is_deep=False)    # æµ…æ‹·è´

```

### 14. æ­£åˆ™è¡¨è¾¾å¼çš„matchæ–¹æ³•å’Œsearchæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

>  
 æ€è·¯ï¼šæ­£åˆ™è¡¨è¾¾å¼æ˜¯å­—ç¬¦ä¸²å¤„ç†çš„é‡è¦å·¥å…·ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯é¢è¯•ä¸­ç»å¸¸è€ƒå¯Ÿçš„çŸ¥è¯†ç‚¹ã€‚åœ¨Pythonä¸­ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ç›´æ¥è°ƒç”¨reæ¨¡å—ä¸­çš„å‡½æ•°ï¼Œä¼ å…¥æ­£åˆ™è¡¨è¾¾å¼å’Œéœ€è¦å¤„ç†çš„å­—ç¬¦ä¸²ï¼›ä¸€ç§æ˜¯å…ˆé€šè¿‡reæ¨¡å—çš„compileå‡½æ•°åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œç„¶åå†é€šè¿‡å¯¹è±¡è°ƒç”¨æ–¹æ³•å¹¶ä¼ å…¥éœ€è¦å¤„ç†çš„å­—ç¬¦ä¸²ã€‚å¦‚æœä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼è¢«é¢‘ç¹çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬æ¨èç”¨re.compileå‡½æ•°åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œè¿™æ ·ä¼šå‡å°‘é¢‘ç¹ç¼–è¯‘åŒä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ‰€é€ æˆçš„å¼€é”€ã€‚ 


matchæ–¹æ³•æ˜¯ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œè¿”å›Matchå¯¹è±¡æˆ–Noneã€‚searchæ–¹æ³•ä¼šæ‰«ææ•´ä¸ªå­—ç¬¦ä¸²æ¥æ‰¾å¯»åŒ¹é…çš„æ¨¡å¼ï¼ŒåŒæ ·ä¹Ÿæ˜¯è¿”å›Matchå¯¹è±¡æˆ–Noneã€‚

### 15. Pythonä¸­ä¸ºä»€ä¹ˆæ²¡æœ‰å‡½æ•°é‡è½½ï¼Ÿ

>  
 **æ€è·¯**ï¼šC++ã€Javaã€C#ç­‰è¯¸å¤šç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒå‡½æ•°é‡è½½ï¼Œæ‰€è°“å‡½æ•°é‡è½½æŒ‡çš„æ˜¯åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸­æœ‰å¤šä¸ªåŒåå‡½æ•°ï¼Œå®ƒä»¬æ‹¥æœ‰ä¸åŒçš„å‚æ•°åˆ—è¡¨ï¼ˆå‚æ•°ä¸ªæ•°ä¸åŒæˆ–å‚æ•°ç±»å‹ä¸åŒæˆ–äºŒè€…çš†ä¸åŒï¼‰ï¼Œå¯ä»¥ç›¸äº’åŒºåˆ†ã€‚é‡è½½ä¹Ÿæ˜¯ä¸€ç§å¤šæ€æ€§ï¼Œå› ä¸ºé€šå¸¸æ˜¯åœ¨ç¼–è¯‘æ—¶é€šè¿‡å‚æ•°çš„ä¸ªæ•°å’Œç±»å‹æ¥ç¡®å®šåˆ°åº•è°ƒç”¨å“ªä¸ªé‡è½½å‡½æ•°ï¼Œæ‰€ä»¥ä¹Ÿè¢«ç§°ä¸ºç¼–è¯‘æ—¶å¤šæ€æ€§æˆ–è€…å«å‰ç»‘å®šã€‚è¿™ä¸ªé—®é¢˜çš„æ½œå°è¯å…¶å®æ˜¯é—®é¢è¯•è€…æ˜¯å¦æœ‰å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ç»éªŒï¼Œæ˜¯å¦ç†è§£Pythonæ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œæ˜¯å¦çŸ¥é“Pythonä¸­å‡½æ•°çš„å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°è¿™äº›æ¦‚å¿µã€‚ 


é¦–å…ˆPythonæ˜¯è§£é‡Šå‹è¯­è¨€ï¼Œå‡½æ•°é‡è½½ç°è±¡é€šå¸¸å‡ºç°åœ¨ç¼–è¯‘å‹è¯­è¨€ä¸­ã€‚å…¶æ¬¡Pythonæ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå‡½æ•°çš„å‚æ•°æ²¡æœ‰ç±»å‹çº¦æŸï¼Œä¹Ÿå°±æ— æ³•æ ¹æ®å‚æ•°ç±»å‹æ¥åŒºåˆ†é‡è½½ã€‚å†è€…Pythonä¸­å‡½æ•°çš„å‚æ•°å¯ä»¥æœ‰é»˜è®¤å€¼ï¼Œå¯ä»¥ä½¿ç”¨å¯å˜å‚æ•°å’Œå…³é”®å­—å‚æ•°ï¼Œå› æ­¤å³ä¾¿æ²¡æœ‰å‡½æ•°é‡è½½ï¼Œä¹Ÿè¦å¯ä»¥è®©ä¸€ä¸ªå‡½æ•°æ ¹æ®è°ƒç”¨è€…ä¼ å…¥çš„å‚æ•°äº§ç”Ÿä¸åŒçš„è¡Œä¸ºã€‚

>  
 âœ…ä½œè€…ç®€ä»‹ï¼šå¤§å®¶å¥½æˆ‘æ˜¯ç¼–ç¨‹ID ğŸ“ƒä¸ªäººä¸»é¡µï¼šç¼–ç¨‹IDçš„csdnåšå®¢ ç³»åˆ—ä¸“æ ï¼šPython ğŸ’¬æ¨èä¸€æ¬¾ç¼–ç¨‹é¢˜åˆ·é¢˜ç¥å™¨ğŸ‘‰ 


### 16. åœ¨Pythonä¸­å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ã€‚

>  
 æ€è·¯ï¼š å•ä¾‹æ¨¡å¼æ˜¯æŒ‡è®©ä¸€ä¸ªç±»åªèƒ½åˆ›å»ºå‡ºå”¯ä¸€çš„å®ä¾‹ï¼Œè¿™ä¸ªé¢˜ç›®åœ¨é¢è¯•ä¸­å‡ºç°çš„é¢‘ç‡æé«˜ï¼Œå› ä¸ºå®ƒè€ƒå¯Ÿçš„ä¸ä»…ä»…æ˜¯å•ä¾‹æ¨¡å¼ï¼Œæ›´æ˜¯å¯¹Pythonè¯­è¨€åˆ°åº•æŒæ¡åˆ°ä½•ç§ç¨‹åº¦ï¼Œå»ºè®®å¤§å®¶ç”¨è£…é¥°å™¨å’Œå…ƒç±»è¿™ä¸¤ç§æ–¹å¼æ¥å®ç°å•ä¾‹æ¨¡å¼ï¼Œå› ä¸ºè¿™ä¸¤ç§æ–¹å¼çš„é€šç”¨æ€§æœ€å¼ºï¼Œè€Œä¸”ä¹Ÿå¯ä»¥é¡ºä¾¿å±•ç¤ºè‡ªå·±å¯¹è£…é¥°å™¨å’Œå…ƒç±»ä¸­ä¸¤ä¸ªå…³é”®çŸ¥è¯†ç‚¹çš„ç†è§£ã€‚ 


**æ–¹æ³•ä¸€ï¼šä½¿ç”¨è£…é¥°å™¨å®ç°å•ä¾‹æ¨¡å¼ã€‚**

```
from functools import wraps


def singleton(cls):
    """å•ä¾‹ç±»è£…é¥°å™¨"""
    instances = {<!-- -->}

    @wraps(cls)
    def wrapper(*args, **kwargs):
        if cls not in instances:
            instances[cls] = cls(*args, **kwargs)
        return instances[cls]

    return wrapper


@singleton
class President:
    pass

```

**æ–¹æ³•äºŒï¼šä½¿ç”¨å…ƒç±»å®ç°å•ä¾‹æ¨¡å¼ã€‚**

```
class SingletonMeta(type):
    """è‡ªå®šä¹‰å•ä¾‹å…ƒç±»"""

    def __init__(cls, *args, **kwargs):
        cls.__instance = None
        super().__init__(*args, **kwargs)

    def __call__(cls, *args, **kwargs):
        if cls.__instance is None:
            cls.__instance = super().__call__(*args, **kwargs)
        return cls.__instance


class President(metaclass=SingletonMeta):
    pass

```

### 17. ä¸ä½¿ç”¨ä¸­é—´å˜é‡ï¼Œäº¤æ¢ä¸¤ä¸ªå˜é‡`a`å’Œ`b`çš„å€¼ã€‚

>  
 æ€è·¯ï¼šå…¸å‹çš„é€äººå¤´çš„é¢˜ç›®ï¼Œé€šå¸¸äº¤æ¢ä¸¤ä¸ªå˜é‡éœ€è¦å€ŸåŠ©ä¸€ä¸ªä¸­é—´å˜é‡ï¼Œå¦‚æœä¸å…è®¸ä½¿ç”¨ä¸­é—´å˜é‡ï¼Œåœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­å¯ä»¥ä½¿ç”¨å¼‚æˆ–è¿ç®—çš„æ–¹å¼æ¥å®ç°äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼Œä½†æ˜¯Pythonä¸­æœ‰æ›´ä¸ºç®€å•æ˜äº†çš„åšæ³•ã€‚ 


**æ–¹æ³•ä¸€ï¼š**

```
a = a ^ b
b = a ^ b
a = a ^ b

```

**æ–¹æ³•äºŒï¼š**

```
a, b = b, a

```

### 18. ä¸‹é¢è¿™æ®µä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆã€‚

```
def multiply():
    return [lambda x: i * x for i in range(4)]

print([m(100) for m in multiply()])
è¿è¡Œç»“æœï¼š

[300, 300, 300, 300]

```

>  
 **æ€è·¯**ï¼šä¸Šé¢ä»£ç çš„è¿è¡Œç»“æœå¾ˆå®¹æ˜“è¢«è¯¯åˆ¤ä¸º[0, 100, 200, 300]ã€‚é¦–å…ˆéœ€è¦æ³¨æ„çš„æ˜¯multiplyå‡½æ•°ç”¨ç”Ÿæˆå¼è¯­æ³•è¿”å›äº†ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­ä¿å­˜äº†4ä¸ªLambdaå‡½æ•°ï¼Œè¿™4ä¸ªLambdaå‡½æ•°ä¼šè¿”å›ä¼ å…¥çš„å‚æ•°ä¹˜ä»¥içš„ç»“æœã€‚éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œæœ‰é—­åŒ…ï¼ˆclosureï¼‰ç°è±¡ï¼Œmultiplyå‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡içš„ç”Ÿå‘½å‘¨æœŸè¢«å»¶å±•äº†ï¼Œç”±äºiæœ€ç»ˆçš„å€¼æ˜¯3ï¼Œæ‰€ä»¥é€šè¿‡m(100)è°ƒåˆ—è¡¨ä¸­çš„Lambdaå‡½æ•°æ—¶ä¼šè¿”å›300ï¼Œè€Œä¸”4ä¸ªè°ƒç”¨éƒ½æ˜¯å¦‚æ­¤ã€‚ 


å¦‚æœæƒ³å¾—åˆ°[0, 100, 200, 300]è¿™ä¸ªç»“æœï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢å‡ ç§æ–¹å¼æ¥ä¿®æ”¹multiplyå‡½æ•°ã€‚

**æ–¹æ³•ä¸€**ï¼šä½¿ç”¨ç”Ÿæˆå™¨ï¼Œè®©å‡½æ•°è·å¾—içš„å½“å‰å€¼ã€‚

```
def multiply():
    return (lambda x: i * x for i in range(4))

print([m(100) for m in multiply()])
æˆ–è€…

def multiply():
    for i in range(4):
        yield lambda x: x * i

print([m(100) for m in multiply()])

```

**æ–¹æ³•äºŒ**ï¼šä½¿ç”¨åå‡½æ•°ï¼Œå½»åº•é¿å¼€é—­åŒ…ã€‚

```
from functools import partial
from operator import __mul__

def multiply():
    return [partial(__mul__, i) for i in range(4)]

print([m(100) for m in multiply()])

```

### 19. ç”¨Pythonä»£ç å®ç°Pythonå†…ç½®å‡½æ•°maxã€‚

>  
 **æ€è·¯**ï¼šè¿™ä¸ªé¢˜ç›®çœ‹ä¼¼ç®€å•ï¼Œä½†å®é™…ä¸Šè¿˜æ˜¯æ¯”è¾ƒè€ƒå¯Ÿé¢è¯•è€…çš„åŠŸåº•ã€‚å› ä¸ºPythonå†…ç½®çš„maxå‡½æ•°æ—¢å¯ä»¥ä¼ å…¥å¯è¿­ä»£å¯¹è±¡æ‰¾å‡ºæœ€å¤§ï¼Œåˆå¯ä»¥ä¼ å…¥ä¸¤ä¸ªæˆ–å¤šä¸ªå‚æ•°æ‰¾å‡ºæœ€å¤§ï¼›æœ€ä¸ºå…³é”®çš„æ˜¯è¿˜å¯ä»¥é€šè¿‡å‘½åå…³é”®å­—å‚æ•°keyæ¥æŒ‡å®šä¸€ä¸ªç”¨äºå…ƒç´ æ¯”è¾ƒçš„å‡½æ•°ï¼Œè¿˜å¯ä»¥é€šè¿‡defaultå‘½åå…³é”®å­—å‚æ•°æ¥æŒ‡å®šå½“å¯è¿­ä»£å¯¹è±¡ä¸ºç©ºæ—¶è¿”å›çš„é»˜è®¤å€¼ã€‚ 


ä¸‹é¢çš„ä»£ç ä»…ä¾›å‚è€ƒï¼š

```
def my_max(*args, key=None, default=None):
    """
    è·å–å¯è¿­ä»£å¯¹è±¡ä¸­æœ€å¤§çš„å…ƒç´ æˆ–ä¸¤ä¸ªåŠä»¥ä¸Šå®å‚ä¸­æœ€å¤§çš„å…ƒç´ 
    :param args: ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡æˆ–å¤šä¸ªå…ƒç´ 
    :param key: æå–ç”¨äºå…ƒç´ æ¯”è¾ƒçš„ç‰¹å¾å€¼çš„å‡½æ•°ï¼Œé»˜è®¤ä¸ºNone
    :param default: å¦‚æœå¯è¿­ä»£å¯¹è±¡ä¸ºç©ºåˆ™è¿”å›è¯¥é»˜è®¤å€¼ï¼Œå¦‚æœæ²¡æœ‰ç»™é»˜è®¤å€¼åˆ™å¼•å‘ValueErrorå¼‚å¸¸
    :return: è¿”å›å¯è¿­ä»£å¯¹è±¡æˆ–å¤šä¸ªå…ƒç´ ä¸­çš„æœ€å¤§å…ƒç´ 
    """
    if len(args) == 1 and len(args[0]) == 0:
        if default:
            return default
        else:
            raise ValueError('max() arg is an empty sequence')
    items = args[0] if len(args) == 1 else args
    max_elem, max_value = items[0], items[0]
    if key:
        max_value = key(max_value)
    for item in items:
        value = item
        if key:
            value = key(item)
        if value &gt; max_value:
            max_elem, max_value = item, value
    return max_elem

```

### 20. ç°æœ‰2å…ƒã€3å…ƒã€5å…ƒå…±ä¸‰ç§é¢é¢çš„è´§å¸ï¼Œå¦‚æœéœ€è¦æ‰¾é›¶99å…ƒï¼Œä¸€å…±æœ‰å¤šå°‘ç§æ‰¾é›¶çš„æ–¹å¼ï¼Ÿ

>  
 **æ€è·¯**ï¼šè¿˜æœ‰ä¸€ä¸ªéå¸¸ç±»ä¼¼çš„é¢˜ç›®ï¼šâ€œä¸€ä¸ªå°æœ‹å‹èµ°æ¥¼æ¢¯ï¼Œä¸€æ¬¡å¯ä»¥èµ°1ä¸ªå°é˜¶ã€2ä¸ªå°é˜¶æˆ–3ä¸ªå°é˜¶ï¼Œé—®èµ°å®Œ10ä¸ªå°é˜¶ä¸€å…±æœ‰å¤šå°‘ç§èµ°æ³•ï¼Ÿâ€ï¼Œè¿™ä¸¤ä¸ªé¢˜ç›®çš„æ€è·¯æ˜¯ä¸€æ ·ï¼Œå¦‚æœç”¨é€’å½’å‡½æ•°æ¥å†™çš„è¯éå¸¸ç®€å•ã€‚ 


```
from functools import lru_cache


@lru_cache()
def change_money(total):
    if total == 0:
        return 1
    if total &lt; 0:
        return 0
    return change_money(total - 2) + change_money(total - 3) + \
        change_money(total - 5)

```

### 21. å†™ä¸€ä¸ªå‡½æ•°ç»Ÿè®¡ä¼ å…¥çš„åˆ—è¡¨ä¸­æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°å¹¶è¿”å›å¯¹åº”çš„å­—å…¸ã€‚

>  
 **æ€è·¯**ï¼šé€äººå¤´çš„é¢˜ç›®ï¼Œä¸è§£é‡Šã€‚ 


```
def count_letters(items):
    result = {<!-- -->}
    for item in items:
        if isinstance(item, (int, float)):
            result[item] = result.get(item, 0) + 1
    return result
ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Pythonæ ‡å‡†åº“ä¸­collectionsæ¨¡å—çš„Counterç±»æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒCounteræ˜¯dictçš„å­ç±»ï¼Œå®ƒä¼šå°†ä¼ å…¥çš„åºåˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ä½œä¸ºé”®ï¼Œå…ƒç´ å‡ºç°çš„æ¬¡æ•°ä½œä¸ºå€¼æ¥æ„é€ å­—å…¸ã€‚

from collections import Counter

def count_letters(items):
    counter = Counter(items)
    return {<!-- -->key: value for key, value in counter.items() \
            if isinstance(key, (int, float))}

```

### 22. ä½¿ç”¨Pythonä»£ç å®ç°éå†ä¸€ä¸ªæ–‡ä»¶å¤¹çš„æ“ä½œã€‚

>  
 **æ€è·¯**ï¼šåŸºæœ¬ä¹Ÿæ˜¯é€äººå¤´çš„é¢˜ç›®ï¼Œåªè¦ç”¨è¿‡osæ¨¡å—å°±åº”è¯¥çŸ¥é“æ€ä¹ˆåšã€‚ 


Pythonæ ‡å‡†åº“osæ¨¡å—çš„walkå‡½æ•°æä¾›äº†éå†ä¸€ä¸ªæ–‡ä»¶å¤¹çš„åŠŸèƒ½ï¼Œå®ƒè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ã€‚

```
import os

g = os.walk('/Users/Hao/Downloads/')
for path, dir_list, file_list in g:
    for dir_name in dir_list:
        print(os.path.join(path, dir_name))
    for file_name in file_list:
        print(os.path.join(path, file_name))

```

>  
 è¯´æ˜ï¼šos.pathæ¨¡å—æä¾›äº†å¾ˆå¤šè¿›è¡Œè·¯å¾„æ“ä½œçš„å·¥å…·å‡½æ•°ï¼Œåœ¨é¡¹ç›®å¼€å‘ä¸­ä¹Ÿæ˜¯ç»å¸¸ä¼šç”¨åˆ°çš„ã€‚å¦‚æœé¢˜ç›®æ˜ç¡®è¦æ±‚ä¸èƒ½ä½¿ç”¨os.walkå‡½æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨os.listdirå‡½æ•°æ¥è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œç„¶åå†é€šè¿‡å¾ªç¯éå†ç”¨os.isdirå‡½æ•°åˆ¤æ–­å“ªäº›æ˜¯æ–‡ä»¶å¤¹ï¼Œå¯¹äºæ–‡ä»¶å¤¹å¯ä»¥é€šè¿‡é€’å½’è°ƒç”¨è¿›è¡Œéå†ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å®ç°éå†ä¸€ä¸ªæ–‡ä»¶å¤¹çš„æ“ä½œã€‚ 


### 22. å†™ä¸€ä¸ªå‡½æ•°ï¼Œç»™å®šçŸ©é˜µçš„é˜¶æ•°`n`ï¼Œè¾“å‡ºä¸€ä¸ªèºæ—‹å¼æ•°å­—çŸ©é˜µã€‚

>  
 ä¾‹å¦‚ï¼šn = 2ï¼Œ è¿”å›ï¼š1 2 4 3 ä¾‹å¦‚ï¼šn = 3ï¼Œ è¿”å›ï¼š1 2 3 8 9 4 7 6 5 è¿™ä¸ªé¢˜ç›®æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œä¸‹é¢çš„ä»£ç ä»…ä¾›å‚è€ƒã€‚ 


```
def show_spiral_matrix(n):
    matrix = [[0] * n for _ in range(n)]
    row, col = 0, 0
    num, direction = 1, 0
    while num &lt;= n ** 2:
        if matrix[row][col] == 0:
            matrix[row][col] = num
            num += 1
        if direction == 0:
            if col &lt; n - 1 and matrix[row][col + 1] == 0:
                col += 1
            else:
                direction += 1
        elif direction == 1:
            if row &lt; n - 1 and matrix[row + 1][col] == 0:
                row += 1
            else:
                direction += 1
        elif direction == 2:
            if col &gt; 0 and matrix[row][col - 1] == 0:
                col -= 1
            else:
                direction += 1
        else:
            if row &gt; 0 and matrix[row - 1][col] == 0:
                row -= 1
            else:
                direction += 1
        direction %= 4
    for x in matrix:
        for y in x:
            print(y, end='\t')
        print()

```

### 23. é˜…è¯»ä¸‹é¢çš„ä»£ç ï¼Œå†™å‡ºç¨‹åºçš„è¿è¡Œç»“æœã€‚

```
items = [1, 2, 3, 4] 
print([i for i in items if i &gt; 2])
print([i for i in items if i % 2])
print([(x, y) for x, y in zip('abcd', (1, 2, 3, 4, 5))])
print({<!-- -->x: f'item{<!-- -->x ** 2}' for x in (2, 4, 6)})
print(len({<!-- -->x for x in 'hello world' if x not in 'abcdefg'}))

```

>  
 **æ€è·¯**ï¼šç”Ÿæˆå¼ï¼ˆæ¨å¯¼å¼ï¼‰å±äºPythonçš„ç‰¹è‰²è¯­æ³•ä¹‹ä¸€ï¼Œå‡ ä¹æ˜¯é¢è¯•å¿…è€ƒå†…å®¹ã€‚Pythonä¸­é€šè¿‡ç”Ÿæˆå¼å­—é¢é‡è¯­æ³•ï¼Œå¯ä»¥åˆ›å»ºå‡ºåˆ—è¡¨ã€é›†åˆã€å­—å…¸ã€‚ 


```
[3, 4]
[1, 3]
[('a', 1), ('b', 2), ('c', 3), ('d', 4)]
{<!-- -->2: 'item4', 4: 'item16', 6: 'item36'}
6
é¢˜ç›®018ï¼šè¯´å‡ºä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœã€‚
class Parent:
    x = 1

class Child1(Parent):
    pass

class Child2(Parent):
    pass

print(Parent.x, Child1.x, Child2.x)
Child1.x = 2
print(Parent.x, Child1.x, Child2.x)
Parent.x = 3
print(Parent.x, Child1.x, Child2.x)
ç‚¹è¯„ï¼šè¿è¡Œä¸Šé¢çš„ä»£ç é¦–å…ˆè¾“å‡º1 1 1ï¼Œè¿™ä¸€ç‚¹å¤§å®¶åº”è¯¥æ²¡æœ‰ä»€ä¹ˆç–‘é—®ã€‚æ¥ä¸‹æ¥ï¼Œé€šè¿‡Child1.x = 2ç»™ç±»Child1é‡æ–°ç»‘å®šäº†å±æ€§xå¹¶èµ‹å€¼ä¸º2ï¼Œæ‰€ä»¥Child1.xä¼šè¾“å‡º2ï¼Œè€ŒParentå’ŒChild2å¹¶ä¸å—å½±å“ã€‚æ‰§è¡ŒParent.x = 3ä¼šé‡æ–°ç»™Parentç±»çš„xå±æ€§èµ‹å€¼ä¸º3ï¼Œç”±äºChild2çš„xå±æ€§ç»§æ‰¿è‡ªParentï¼Œæ‰€ä»¥Child2.xçš„å€¼ä¹Ÿæ˜¯3ï¼›è€Œä¹‹å‰æˆ‘ä»¬ä¸ºChild1é‡æ–°ç»‘å®šäº†xå±æ€§ï¼Œé‚£ä¹ˆå®ƒçš„xå±æ€§å€¼ä¸ä¼šå—åˆ°Parent.x = 3çš„å½±å“ï¼Œè¿˜æ˜¯ä¹‹å‰çš„å€¼2ã€‚

1 1 1
1 2 1
3 2 3

```

### 24. è¾“å…¥å¹´æœˆæ—¥ï¼Œåˆ¤æ–­è¿™ä¸ªæ—¥æœŸæ˜¯è¿™ä¸€å¹´çš„ç¬¬å‡ å¤©ã€‚

**æ–¹æ³•ä¸€ï¼šä¸ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„æ¨¡å—å’Œå‡½æ•°ã€‚**

```
def is_leap_year(year):
    """åˆ¤æ–­æŒ‡å®šçš„å¹´ä»½æ˜¯ä¸æ˜¯é—°å¹´ï¼Œå¹³å¹´è¿”å›Falseï¼Œé—°å¹´è¿”å›True"""
    return year % 4 == 0 and year % 100 != 0 or year % 400 == 0

def which_day(year, month, date):
    """è®¡ç®—ä¼ å…¥çš„æ—¥æœŸæ˜¯è¿™ä¸€å¹´çš„ç¬¬å‡ å¤©"""
    # ç”¨åµŒå¥—çš„åˆ—è¡¨ä¿å­˜å¹³å¹´å’Œé—°å¹´æ¯ä¸ªæœˆçš„å¤©æ•°
    days_of_month = [
        [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
        [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
    ]
    days = days_of_month[is_leap_year(year)][:month - 1]
    return sum(days) + date

```

**æ–¹æ³•äºŒï¼šä½¿ç”¨æ ‡å‡†åº“ä¸­çš„datetimeæ¨¡å—ã€‚**

```
import datetime

def which_day(year, month, date):
    end = datetime.date(year, month, date)
    start = datetime.date(year, 1, 1)
    return (end - start).days + 1

```

### 25. å†™ä¸€ä¸ªè®°å½•å‡½æ•°æ‰§è¡Œæ—¶é—´çš„è£…é¥°å™¨ã€‚

```
**æ€è·¯**ï¼šé«˜é¢‘é¢è¯•é¢˜ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„è£…é¥°å™¨ï¼Œé¢è¯•è€…å¿…é¡»è¦æŒæ¡çš„å†…å®¹ã€‚

```

**æ–¹æ³•ä¸€ï¼šç”¨å‡½æ•°å®ç°è£…é¥°å™¨ã€‚**

```
from functools import wraps
from time import time


def record_time(func):

    @wraps(func)
    def wrapper(*args, **kwargs):
        start = time()
        result = func(*args, **kwargs)
        print(f'{<!-- -->func.__name__}æ‰§è¡Œæ—¶é—´: {<!-- -->time() - start}ç§’')
        return result

    return wrapper

```

**æ–¹æ³•äºŒï¼šç”¨ç±»å®ç°è£…é¥°å™¨ã€‚ç±»æœ‰__call__é­”æœ¯æ–¹æ³•ï¼Œè¯¥ç±»å¯¹è±¡å°±æ˜¯å¯è°ƒç”¨å¯¹è±¡ï¼Œå¯ä»¥å½“åšè£…é¥°å™¨æ¥ä½¿ç”¨ã€‚**

```
from functools import wraps
from time import time


class Record:

    def __call__(self, func):

        @wraps(func)
        def wrapper(*args, **kwargs):
            start = time()
            result = func(*args, **kwargs)
            print(f'{<!-- -->func.__name__}æ‰§è¡Œæ—¶é—´: {<!-- -->time() - start}ç§’')
            return result

        return wrapper

```

>  
 è¯´æ˜ï¼šè£…é¥°å™¨å¯ä»¥ç”¨æ¥è£…é¥°ç±»æˆ–å‡½æ•°ï¼Œä¸ºå…¶æä¾›é¢å¤–çš„èƒ½åŠ›ï¼Œå±äºè®¾è®¡æ¨¡å¼ä¸­çš„ä»£ç†æ¨¡å¼ã€‚ 
 æ‰©å±•ï¼šè£…é¥°å™¨æœ¬èº«ä¹Ÿå¯ä»¥å‚æ•°åŒ–ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœä¸å¸Œæœ›åœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºå‡½æ•°çš„æ‰§è¡Œæ—¶é—´è€Œæ˜¯å¸Œæœ›ç”±è°ƒç”¨è€…æ¥å†³å®šå¦‚ä½•è¾“å‡ºå‡½æ•°çš„æ‰§è¡Œæ—¶é—´ï¼Œå¯ä»¥é€šè¿‡å‚æ•°åŒ–è£…é¥°å™¨çš„æ–¹å¼æ¥åšåˆ°ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚ 


```
from functools import wraps
from time import time


def record_time(output):
    """å¯ä»¥å‚æ•°åŒ–çš„è£…é¥°å™¨"""

    def decorate(func):

        @wraps(func)
        def wrapper(*args, **kwargs):
            start = time()
            result = func(*args, **kwargs)
            output(func.__name__, time() - start)
            return result

        return wrapper

    return decorate

```

### 25. è¯´ä¸€ä¸‹Pythonä¸­çš„å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹çš„åº”ç”¨åœºæ™¯å’Œä¼˜ç¼ºç‚¹ã€‚

>  
 **æ€è·¯**ï¼šPythonä¸­å®ç°å¹¶å‘ç¼–ç¨‹é€šå¸¸æœ‰å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹å’Œå¼‚æ­¥ç¼–ç¨‹ä¸‰ç§é€‰æ‹©ã€‚å¼‚æ­¥ç¼–ç¨‹å®ç°äº†åä½œå¼å¹¶å‘ï¼Œé€šè¿‡å¤šä¸ªç›¸äº’åä½œçš„å­ç¨‹åºçš„ç”¨æˆ·æ€åˆ‡æ¢ï¼Œå®ç°å¯¹CPUçš„é«˜æ•ˆåˆ©ç”¨ï¼Œè¿™ç§æ–¹å¼ä¹Ÿæ˜¯éå¸¸é€‚åˆI/Oå¯†é›†å‹åº”ç”¨çš„ã€‚ 


çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…CPUçš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…å†…å­˜çš„åŸºæœ¬å•ä½ã€‚é€šå¸¸æˆ‘ä»¬è¿è¡Œçš„ç¨‹åºä¼šåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œè€Œæ¯ä¸ªè¿›ç¨‹ä¸­åˆåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ã€‚å¤šçº¿ç¨‹çš„ä¼˜ç‚¹åœ¨äºå¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥è¿›ç¨‹é—´çš„é€šä¿¡éå¸¸å®¹æ˜“å®ç°ï¼›ä½†æ˜¯å¦‚æœä½¿ç”¨å®˜æ–¹çš„CPythonè§£é‡Šå™¨ï¼Œå¤šçº¿ç¨‹å—åˆ¶äºGILï¼ˆå…¨å±€è§£é‡Šå™¨é”ï¼‰ï¼Œå¹¶ä¸èƒ½åˆ©ç”¨CPUçš„å¤šæ ¸ç‰¹æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ã€‚ä½¿ç”¨å¤šè¿›ç¨‹å¯ä»¥å……åˆ†åˆ©ç”¨CPUçš„å¤šæ ¸ç‰¹æ€§ï¼Œä½†æ˜¯è¿›ç¨‹é—´é€šä¿¡ç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ä½¿ç”¨IPCæœºåˆ¶ï¼ˆç®¡é“ã€å¥—æ¥å­—ç­‰ï¼‰ã€‚

å¤šçº¿ç¨‹é€‚åˆé‚£äº›ä¼šèŠ±è´¹å¤§é‡æ—¶é—´åœ¨I/Oæ“ä½œä¸Šï¼Œä½†æ²¡æœ‰å¤ªå¤šå¹¶è¡Œè®¡ç®—éœ€æ±‚ä¸”ä¸éœ€å ç”¨å¤ªå¤šå†…å­˜çš„I/Oå¯†é›†å‹åº”ç”¨ã€‚å¤šè¿›ç¨‹é€‚åˆæ‰§è¡Œè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚ï¼šè§†é¢‘ç¼–ç è§£ç ã€æ•°æ®å¤„ç†ã€ç§‘å­¦è®¡ç®—ç­‰ï¼‰ã€å¯ä»¥åˆ†è§£ä¸ºå¤šä¸ªå¹¶è¡Œå­ä»»åŠ¡å¹¶èƒ½åˆå¹¶å­ä»»åŠ¡æ‰§è¡Œç»“æœçš„ä»»åŠ¡ä»¥åŠåœ¨å†…å­˜ä½¿ç”¨æ–¹é¢æ²¡æœ‰ä»»ä½•é™åˆ¶ä¸”ä¸å¼ºä¾èµ–äºI/Oæ“ä½œçš„ä»»åŠ¡ã€‚

### 26. é˜…è¯»ä¸‹é¢çš„ä»£ç è¯´å‡ºè¿è¡Œç»“æœã€‚

```
class A:
    def who(self):
        print('A', end='')

class B(A):
    def who(self):
        super(B, self).who()
        print('B', end='')

class C(A):
    def who(self):
        super(C, self).who()
        print('C', end='')

class D(B, C):
    def who(self):
        super(D, self).who()
        print('D', end='')

item = D()
item.who()

```

>  
 **æ€è·¯**ï¼šè¿™é“é¢˜è€ƒæŸ¥åˆ°äº†ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼š 
 Pythonä¸­çš„MROï¼ˆæ–¹æ³•è§£æé¡ºåºï¼‰ã€‚åœ¨æ²¡æœ‰å¤šé‡ç»§æ‰¿çš„æƒ…å†µä¸‹ï¼Œå‘å¯¹è±¡å‘å‡ºä¸€ä¸ªæ¶ˆæ¯ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰å¯¹åº”çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå‘ä¸Šï¼ˆçˆ¶ç±»ï¼‰æœç´¢çš„é¡ºåºæ˜¯éå¸¸æ¸…æ™°çš„ã€‚å¦‚æœå‘ä¸Šè¿½æº¯åˆ°objectç±»ï¼ˆæ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼‰éƒ½æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå°†ä¼šå¼•å‘AttributeErrorå¼‚å¸¸ã€‚ä½†æ˜¯æœ‰å¤šé‡ç»§æ‰¿å°¤å…¶æ˜¯å‡ºç°è±å½¢ç»§æ‰¿ï¼ˆé’»çŸ³ç»§æ‰¿ï¼‰çš„æ—¶å€™ï¼Œå‘ä¸Šè¿½æº¯åˆ°åº•åº”è¯¥æ‰¾åˆ°é‚£ä¸ªæ–¹æ³•å°±å¾—ç¡®å®šMROã€‚Python 3ä¸­çš„ç±»ä»¥åŠPython 2ä¸­çš„æ–°å¼ç±»ä½¿ç”¨C3ç®—æ³•æ¥ç¡®å®šMROï¼Œå®ƒæ˜¯ä¸€ç§ç±»ä¼¼äºå¹¿åº¦ä¼˜å…ˆæœç´¢çš„æ–¹æ³•ï¼›Python 2ä¸­çš„æ—§å¼ç±»ï¼ˆç»å…¸ç±»ï¼‰ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢æ¥ç¡®å®šMROã€‚åœ¨æä¸æ¸…æ¥šMROçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ç±»çš„mroæ–¹æ³•æˆ–mroå±æ€§æ¥è·å¾—ç±»çš„MROåˆ—è¡¨ã€‚ 
 super()å‡½æ•°çš„ä½¿ç”¨ã€‚åœ¨ä½¿ç”¨superå‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡super(ç±»å‹, å¯¹è±¡)æ¥æŒ‡å®šå¯¹å“ªä¸ªå¯¹è±¡ä»¥å“ªä¸ªç±»ä¸ºèµ·ç‚¹å‘ä¸Šæœç´¢çˆ¶ç±»æ–¹æ³•ã€‚æ‰€ä»¥ä¸Šé¢Bç±»ä»£ç ä¸­çš„super(B, self).who()è¡¨ç¤ºä»¥Bç±»ä¸ºèµ·ç‚¹ï¼Œå‘ä¸Šæœç´¢selfï¼ˆDç±»å¯¹è±¡ï¼‰çš„whoæ–¹æ³•ï¼Œæ‰€ä»¥ä¼šæ‰¾åˆ°Cç±»ä¸­çš„whoæ–¹æ³•ï¼Œå› ä¸ºDç±»å¯¹è±¡çš„MROåˆ—è¡¨æ˜¯D â€“&gt; B --&gt; C --&gt; A --&gt; objectã€‚ 


```
ACBD

```

### 27. ç¼–å†™ä¸€ä¸ªå‡½æ•°å®ç°å¯¹é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ï¼Œä¸èƒ½ä½¿ç”¨Pythonçš„å†…ç½®å‡½æ•°ã€‚

>  
 **æ€è·¯**ï¼šé€†æ³¢å…°è¡¨è¾¾å¼ä¹Ÿç§°ä¸ºâ€œåç¼€è¡¨è¾¾å¼â€ï¼Œç›¸è¾ƒäºå¹³å¸¸æˆ‘ä»¬ä½¿ç”¨çš„â€œä¸­ç¼€è¡¨è¾¾å¼â€ï¼Œé€†æ³¢å…°è¡¨è¾¾å¼ä¸éœ€è¦æ‹¬å·æ¥ç¡®å®šè¿ç®—çš„ä¼˜å…ˆçº§ï¼Œä¾‹å¦‚5 * (2 + 3)å¯¹åº”çš„é€†æ³¢å…°è¡¨è¾¾å¼æ˜¯5 2 3 + *ã€‚é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼éœ€è¦å€ŸåŠ©æ ˆç»“æ„ï¼Œæ‰«æè¡¨è¾¾å¼é‡åˆ°è¿ç®—æ•°å°±å…¥æ ˆï¼Œé‡åˆ°è¿ç®—ç¬¦å°±å‡ºæ ˆä¸¤ä¸ªå…ƒç´ åšè¿ç®—ï¼Œå°†è¿ç®—ç»“æœå…¥æ ˆã€‚è¡¨è¾¾å¼æ‰«æç»“æŸåï¼Œæ ˆä¸­åªæœ‰ä¸€ä¸ªæ•°ï¼Œè¿™ä¸ªæ•°å°±æ˜¯æœ€ç»ˆçš„è¿ç®—ç»“æœï¼Œç›´æ¥å‡ºæ ˆå³å¯ã€‚ 


```
import operator


class Stack:
    """æ ˆï¼ˆFILOï¼‰"""

    def __init__(self):
        self.elems = []

    def push(self, elem):
        """å…¥æ ˆ"""
        self.elems.append(elem)

    def pop(self):
        """å‡ºæ ˆ"""
        return self.elems.pop()

    @property
    def is_empty(self):
        """æ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©º"""
        return len(self.elems) == 0


def eval_suffix(expr):
    """é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"""
    operators = {<!-- -->
        '+': operator.add,
        '-': operator.sub,
        '*': operator.mul,
        '/': operator.truediv
    }
    stack = Stack()
    for item in expr.split():
        if item.isdigit():
            stack.push(float(item))
        else:              
            num2 = stack.pop()
            num1 = stack.pop()
            stack.push(operators[item](num1, num2))
    return stack.pop()

```

### 28. Pythonä¸­å¦‚ä½•å®ç°å­—ç¬¦ä¸²æ›¿æ¢æ“ä½œï¼Ÿ

Pythonä¸­å®ç°å­—ç¬¦ä¸²æ›¿æ¢å¤§è‡´æœ‰ä¸¤ç±»æ–¹æ³•ï¼šå­—ç¬¦ä¸²çš„replaceæ–¹æ³•å’Œæ­£åˆ™è¡¨è¾¾å¼çš„subæ–¹æ³•ã€‚

**æ–¹æ³•ä¸€**ï¼šä½¿ç”¨å­—ç¬¦ä¸²çš„replaceæ–¹æ³•ã€‚

message = â€˜hello, world!â€™ print(message.replace(â€˜oâ€™, â€˜Oâ€™).replace(â€˜lâ€™, â€˜Lâ€™).replace(â€˜heâ€™, â€˜HEâ€™)) **æ–¹æ³•äºŒ**ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„subæ–¹æ³•ã€‚

import re

```
message = 'hello, world!'
pattern = re.compile('[aeiou]')
print(pattern.sub('#', message))

```

>  
 æ‰©å±•ï¼šè¿˜æœ‰ä¸€ä¸ªç›¸å…³çš„é¢è¯•é¢˜ï¼Œå¯¹ä¿å­˜æ–‡ä»¶åçš„åˆ—è¡¨æ’åºï¼Œè¦æ±‚æ–‡ä»¶åæŒ‰ç…§å­—æ¯è¡¨å’Œæ•°å­—å¤§å°è¿›è¡Œæ’åºï¼Œä¾‹å¦‚å¯¹äºåˆ—è¡¨filenames = [â€˜a12.txtâ€™, â€˜a8.txtâ€™, â€˜b10.txtâ€™, â€˜b2.txtâ€™, â€˜b19.txtâ€™, â€˜a3.txtâ€™]ï¼Œæ’åºçš„ç»“æœæ˜¯[â€˜a3.txtâ€™, â€˜a8.txtâ€™, â€˜a12.txtâ€™, â€˜b2.txtâ€™, â€˜b10.txtâ€™, â€˜b19.txtâ€™]ã€‚æç¤ºä¸€ä¸‹ï¼Œå¯ä»¥é€šè¿‡å­—ç¬¦ä¸²æ›¿æ¢çš„æ–¹å¼ä¸ºæ–‡ä»¶åè¡¥ä½ï¼Œæ ¹æ®è¡¥ä½åçš„æ–‡ä»¶åç”¨sortedå‡½æ•°æ¥æ’åºï¼Œå¤§å®¶å¯ä»¥æ€è€ƒä¸‹è¿™ä¸ªé—®é¢˜å¦‚ä½•è§£å†³ã€‚ 


### 29. å¦‚ä½•å‰–æPythonä»£ç çš„æ‰§è¡Œæ€§èƒ½ï¼Ÿ

å‰–æä»£ç æ€§èƒ½å¯ä»¥ä½¿ç”¨Pythonæ ‡å‡†åº“ä¸­çš„cProfileå’Œpstatsæ¨¡å—ï¼ŒcProfileçš„runå‡½æ•°å¯ä»¥æ‰§è¡Œä»£ç å¹¶æ”¶é›†ç»Ÿè®¡ä¿¡æ¯ï¼Œåˆ›å»ºå‡ºStatså¯¹è±¡å¹¶æ‰“å°ç®€å•çš„å‰–ææŠ¥å‘Šã€‚Statsæ˜¯pstatsæ¨¡å—ä¸­çš„ç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªç»Ÿè®¡å¯¹è±¡ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‰æ–¹å·¥å…·line_profilerå’Œmemory_profileræ¥å‰–ææ¯ä¸€è¡Œä»£ç è€—è´¹çš„æ—¶é—´å’Œå†…å­˜ï¼Œè¿™ä¸¤ä¸ªä¸‰æ–¹å·¥å…·éƒ½ä¼šç”¨éå¸¸å‹å¥½çš„æ–¹å¼è¾“å‡ºå‰–æç»“æ„ã€‚å¦‚æœä½¿ç”¨PyCharmï¼Œå¯ä»¥åˆ©ç”¨â€œRunâ€èœå•çš„â€œProfileâ€èœå•é¡¹å¯¹ä»£ç è¿›è¡Œæ€§èƒ½åˆ†æï¼ŒPyCharmä¸­å¯ä»¥ç”¨è¡¨æ ¼æˆ–è€…è°ƒç”¨å›¾ï¼ˆCall Graphï¼‰çš„æ–¹å¼æ¥æ˜¾ç¤ºæ€§èƒ½å‰–æçš„ç»“æœã€‚

ä¸‹é¢æ˜¯ä½¿ç”¨cProfileå‰–æä»£ç æ€§èƒ½çš„ä¾‹å­ã€‚

```
example.py

import cProfile


def is_prime(num):
    for factor in range(2, int(num ** 0.5) + 1):
        if num % factor == 0:
            return False
    return True


class PrimeIter:

    def __init__(self, total):
        self.counter = 0
        self.current = 1
        self.total = total

    def __iter__(self):
        return self

    def __next__(self):
        if self.counter &lt; self.total:
            self.current += 1
            while not is_prime(self.current):
                self.current += 1
            self.counter += 1
            return self.current
        raise StopIteration()


cProfile.run('list(PrimeIter(10000))')

```

å¦‚æœä½¿ç”¨line_profilerä¸‰æ–¹å·¥å…·ï¼Œå¯ä»¥ç›´æ¥å‰–æis_primeå‡½æ•°æ¯è¡Œä»£ç çš„æ€§èƒ½ï¼Œéœ€è¦ç»™is_primeå‡½æ•°æ·»åŠ ä¸€ä¸ªprofilerè£…é¥°å™¨ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚

```
@profiler
def is_prime(num):
    for factor in range(2, int(num ** 0.5) + 1):
        if num % factor == 0:
            return False
    return True

```

å®‰è£…line_profilerã€‚

pip install line_profiler ä½¿ç”¨line_profilerã€‚

kernprof -lv example.py è¿è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºã€‚

```
Line #    Hits    Time      Per Hit  % Time  Line Contents
==============================================================
     1                                       @profile
     2                                       def is_prime(num):
     3    86624   48420.0   0.6      50.5        for factor in range(2, int(num ** 0.5) + 1):
     4    85624   44000.0   0.5      45.9            if num % factor == 0:
     5    6918     3080.0   0.4       3.2                return False
     6    1000      430.0   0.4       0.4        return True

```

### 30. å¦‚ä½•ä½¿ç”¨`random`æ¨¡å—ç”Ÿæˆéšæœºæ•°ã€å®ç°éšæœºä¹±åºå’ŒéšæœºæŠ½æ ·ï¼Ÿ

>  
 **æ€è·¯**ï¼šé€äººå¤´çš„é¢˜ç›®ï¼Œå› ä¸ºPythonæ ‡å‡†åº“ä¸­çš„å¸¸ç”¨æ¨¡å—åº”è¯¥æ˜¯Pythonå¼€å‘è€…éƒ½æ¯”è¾ƒç†Ÿæ‚‰çš„å†…å®¹ï¼Œè¿™ä¸ªé—®é¢˜å›å¦‚æœç­”ä¸ä¸Šæ¥ï¼Œæ•´ä¸ªé¢è¯•åŸºæœ¬ä¹Ÿå°±ç ¸é”…äº†ã€‚ 


```
random.random()å‡½æ•°å¯ä»¥ç”Ÿæˆ[0.0, 1.0)ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°ã€‚

random.uniform(a, b)å‡½æ•°å¯ä»¥ç”Ÿæˆ[a, b]æˆ–[b, a]ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•°ã€‚

random.randint(a, b)å‡½æ•°å¯ä»¥ç”Ÿæˆ[a, b]æˆ–[b, a]ä¹‹é—´çš„éšæœºæ•´æ•°ã€‚

random.shuffle(x)å‡½æ•°å¯ä»¥å®ç°å¯¹åºåˆ—xçš„åŸåœ°éšæœºä¹±åºã€‚

random.choice(seq)å‡½æ•°å¯ä»¥ä»éç©ºåºåˆ—ä¸­å–å‡ºä¸€ä¸ªéšæœºå…ƒç´ ã€‚

```

random.choices(population, weights=None, *, cum_weights=None, k=1)å‡½æ•°å¯ä»¥ä»æ€»ä½“ä¸­éšæœºæŠ½å–ï¼ˆæœ‰æ”¾å›æŠ½æ ·ï¼‰å‡ºå®¹é‡ä¸ºkçš„æ ·æœ¬å¹¶è¿”å›æ ·æœ¬çš„åˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šä¸ªä½“çš„æƒé‡ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šæƒé‡ï¼Œä¸ªä½“è¢«é€‰ä¸­çš„æ¦‚ç‡å‡ç­‰ã€‚

random.sample(population, k)å‡½æ•°å¯ä»¥ä»æ€»ä½“ä¸­éšæœºæŠ½å–ï¼ˆæ— æ”¾å›æŠ½æ ·ï¼‰å‡ºå®¹é‡ä¸ºkçš„æ ·æœ¬å¹¶è¿”å›æ ·æœ¬çš„åˆ—è¡¨ã€‚

>  
 æ‰©å±•ï¼šrandomæ¨¡å—æä¾›çš„å‡½æ•°é™¤äº†ç”Ÿæˆå‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°å¤–ï¼Œè¿˜å¯ä»¥ç”Ÿæˆå…¶ä»–åˆ†å¸ƒçš„éšæœºæ•°ï¼Œä¾‹å¦‚random.gauss(mu, sigma)å‡½æ•°å¯ä»¥ç”Ÿæˆé«˜æ–¯åˆ†å¸ƒï¼ˆæ­£æ€åˆ†å¸ƒï¼‰çš„éšæœºæ•°ï¼›random.paretovariate(alpha)å‡½æ•°ä¼šç”Ÿæˆå¸•ç´¯æ‰˜åˆ†å¸ƒçš„éšæœºæ•°ï¼›random.gammavariate(alpha, beta)å‡½æ•°ä¼šç”Ÿæˆä¼½é©¬åˆ†å¸ƒçš„éšæœºæ•°ã€‚ 


### 31. ä¸¾ä¾‹è¯´æ˜ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°`KeyError`ã€`TypeError`ã€`ValueError`ã€‚

ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå˜é‡aæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œæ‰§è¡Œint(a[â€˜xâ€™])è¿™ä¸ªæ“ä½œå°±æœ‰å¯èƒ½å¼•å‘ä¸Šè¿°ä¸‰ç§ç±»å‹çš„å¼‚å¸¸ã€‚å¦‚æœå­—å…¸ä¸­æ²¡æœ‰é”®xï¼Œä¼šå¼•å‘KeyErrorï¼›å¦‚æœé”®xå¯¹åº”çš„å€¼ä¸æ˜¯strã€floatã€intã€boolä»¥åŠbytes-likeç±»å‹ï¼Œåœ¨è°ƒç”¨intå‡½æ•°æ„é€ intç±»å‹çš„å¯¹è±¡æ—¶ï¼Œä¼šå¼•å‘TypeErrorï¼›å¦‚æœa[x]æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—èŠ‚ä¸²ï¼Œè€Œå¯¹åº”çš„å†…å®¹åˆæ— æ³•å¤„ç†æˆintæ—¶ï¼Œå°†å¼•å‘ValueErrorã€‚

### 32. è¯´å‡ºä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœã€‚

```
def extend_list(val, items=[]):
    items.append(val)
    return items

list1 = extend_list(10)
list2 = extend_list(123, [])
list3 = extend_list('a')
print(list1)
print(list2)
print(list3)

```

>  
 **æ€è·¯**ï¼šPythonå‡½æ•°åœ¨å®šä¹‰çš„æ—¶å€™ï¼Œé»˜è®¤å‚æ•°itemsçš„å€¼å°±è¢«è®¡ç®—å‡ºæ¥äº†ï¼Œå³[]ã€‚å› ä¸ºé»˜è®¤å‚æ•°itemså¼•ç”¨äº†å¯¹è±¡[]ï¼Œæ¯æ¬¡è°ƒç”¨è¯¥å‡½æ•°ï¼Œå¦‚æœå¯¹itemså¼•ç”¨çš„åˆ—è¡¨è¿›è¡Œäº†æ“ä½œï¼Œä¸‹æ¬¡è°ƒç”¨æ—¶ï¼Œé»˜è®¤å‚æ•°è¿˜æ˜¯å¼•ç”¨ä¹‹å‰çš„é‚£ä¸ªåˆ—è¡¨è€Œä¸æ˜¯é‡æ–°èµ‹å€¼ä¸º[]ï¼Œæ‰€ä»¥åˆ—è¡¨ä¸­ä¼šæœ‰ä¹‹å‰æ·»åŠ çš„å…ƒç´ ã€‚å¦‚æœé€šè¿‡ä¼ å‚çš„æ–¹å¼ä¸ºitemsé‡æ–°èµ‹å€¼ï¼Œé‚£ä¹ˆitemså°†å¼•ç”¨åˆ°æ–°çš„åˆ—è¡¨å¯¹è±¡ï¼Œè€Œä¸å†å¼•ç”¨é»˜è®¤çš„é‚£ä¸ªåˆ—è¡¨å¯¹è±¡ã€‚è¿™ä¸ªé¢˜åœ¨é¢è¯•ä¸­ç»å¸¸è¢«é—®åˆ°ï¼Œé€šå¸¸ä¸å»ºè®®ä½¿ç”¨å®¹å™¨ç±»å‹çš„é»˜è®¤å‚æ•°ï¼ŒåƒPyLintè¿™æ ·çš„ä»£ç æ£€æŸ¥å·¥å…·ä¹Ÿä¼šå¯¹è¿™ç§ä»£ç æå‡ºè´¨ç–‘å’Œè­¦å‘Šã€‚ 


```
[10, 'a']
[123]
[10, 'a']

```

### 33. å¦‚ä½•è¯»å–å¤§æ–‡ä»¶ï¼Œä¾‹å¦‚å†…å­˜åªæœ‰4Gï¼Œå¦‚ä½•è¯»å–ä¸€ä¸ªå¤§å°ä¸º8Gçš„æ–‡ä»¶ï¼Ÿ

å¾ˆæ˜¾ç„¶4Gå†…å­˜è¦ä¸€æ¬¡æ€§çš„åŠ è½½å¤§å°ä¸º8Gçš„æ–‡ä»¶æ˜¯ä¸ç°å®çš„ï¼Œé‡åˆ°è¿™ç§æƒ…å†µå¿…é¡»è¦è€ƒè™‘å¤šæ¬¡è¯»å–å’Œåˆ†æ‰¹æ¬¡å¤„ç†ã€‚åœ¨Pythonä¸­è¯»å–æ–‡ä»¶å¯ä»¥å…ˆé€šè¿‡openå‡½æ•°è·å–æ–‡ä»¶å¯¹è±¡ï¼Œåœ¨è¯»å–æ–‡ä»¶æ—¶ï¼Œå¯ä»¥é€šè¿‡readæ–¹æ³•çš„sizeå‚æ•°æŒ‡å®šè¯»å–çš„å¤§å°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡seekæ–¹æ³•çš„offsetå‚æ•°æŒ‡å®šè¯»å–çš„ä½ç½®ï¼Œè¿™æ ·å°±å¯ä»¥æ§åˆ¶å•æ¬¡è¯»å–æ•°æ®çš„å­—èŠ‚æ•°å’Œæ€»å­—èŠ‚æ•°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®å‡½æ•°iterå°†æ–‡ä»¶å¯¹è±¡å¤„ç†æˆè¿­ä»£å™¨å¯¹è±¡ï¼Œæ¯æ¬¡åªè¯»å–å°‘é‡çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œä»£ç å¤§è‡´å†™æ³•å¦‚ä¸‹æ‰€ç¤ºã€‚

```
with open('...', 'rb') as file:
    for data in iter(lambda: file.read(2097152), b''):
        pass

```

åœ¨Linuxç³»ç»Ÿä¸Šï¼Œå¯ä»¥é€šè¿‡splitå‘½ä»¤å°†å¤§æ–‡ä»¶åˆ‡å‰²ä¸ºå°ç‰‡ï¼Œç„¶åé€šè¿‡è¯»å–åˆ‡å‰²åçš„å°æ–‡ä»¶å¯¹æ•°æ®è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ä¸‹é¢çš„å‘½ä»¤å°†åä¸ºfilenameçš„å¤§æ–‡ä»¶åˆ‡å‰²ä¸ºå¤§å°ä¸º512Mçš„å¤šä¸ªæ–‡ä»¶ã€‚

split -b 512m filename å¦‚æœæ„¿æ„ï¼Œ ä¹Ÿå¯ä»¥å°†åä¸ºfilenameçš„æ–‡ä»¶åˆ‡å‰²ä¸º10ä¸ªæ–‡ä»¶ï¼Œå‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºã€‚

split -n 10 filename æ‰©å±•ï¼šå¤–éƒ¨æ’åºè·Ÿä¸Šè¿°çš„æƒ…å†µéå¸¸ç±»ä¼¼ï¼Œç”±äºå¤„ç†çš„æ•°æ®ä¸èƒ½ä¸€æ¬¡è£…å…¥å†…å­˜ï¼Œåªèƒ½æ”¾åœ¨è¯»å†™è¾ƒæ…¢çš„å¤–å­˜å‚¨å™¨ï¼ˆé€šå¸¸æ˜¯ç¡¬ç›˜ï¼‰ä¸Šã€‚â€œæ’åº-å½’å¹¶ç®—æ³•â€å°±æ˜¯ä¸€ç§å¸¸ç”¨çš„å¤–éƒ¨æ’åºç­–ç•¥ã€‚åœ¨æ’åºé˜¶æ®µï¼Œå…ˆè¯»å…¥èƒ½æ”¾åœ¨å†…å­˜ä¸­çš„æ•°æ®é‡ï¼Œå°†å…¶æ’åºè¾“å‡ºåˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œä¾æ­¤è¿›è¡Œï¼Œå°†å¾…æ’åºæ•°æ®ç»„ç»‡ä¸ºå¤šä¸ªæœ‰åºçš„ä¸´æ—¶æ–‡ä»¶ï¼Œç„¶ååœ¨å½’å¹¶é˜¶æ®µå°†è¿™äº›ä¸´æ—¶æ–‡ä»¶ç»„åˆä¸ºä¸€ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶ï¼Œè¿™ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶å°±æ˜¯æ’åºçš„ç»“æœã€‚

### 34. è¿è¡Œä¸‹é¢çš„ä»£ç æ˜¯å¦ä¼šæŠ¥é”™ï¼Œå¦‚æœæŠ¥é”™è¯·è¯´æ˜å“ªé‡Œæœ‰ä»€ä¹ˆæ ·çš„é”™ï¼Œå¦‚æœä¸æŠ¥é”™è¯·è¯´å‡ºä»£ç çš„æ‰§è¡Œç»“æœã€‚

```
class A: 
    def __init__(self, value):
        self.__value = value

    @property
    def value(self):
        return self.__value

obj = A(1)
obj.__value = 2
print(obj.value)
print(obj.__value)

```

>  
 **æ€è·¯**ï¼šè¿™é“é¢˜æœ‰ä¸¤ä¸ªè€ƒå¯Ÿç‚¹ï¼Œä¸€ä¸ªè€ƒå¯Ÿç‚¹æ˜¯å¯¹_å’Œ__å¼€å¤´çš„å¯¹è±¡å±æ€§è®¿é—®æƒé™ä»¥åŠ@propertyè£…é¥°å™¨çš„äº†è§£ï¼Œå¦å¤–ä¸€ä¸ªè€ƒå¯Ÿçš„ç‚¹æ˜¯å¯¹åŠ¨æ€è¯­è¨€çš„ç†è§£ï¼Œä¸éœ€è¦è¿‡å¤šçš„è§£é‡Šã€‚ 


```
1
2

```

>  
 æ‰©å±•ï¼šå¦‚æœä¸å¸Œæœ›ä»£ç è¿è¡Œæ—¶åŠ¨æ€çš„ç»™å¯¹è±¡æ·»åŠ æ–°å±æ€§ï¼Œå¯ä»¥åœ¨å®šä¹‰ç±»æ—¶ä½¿ç”¨__slots__é­”æ³•ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šé¢çš„Aä¸­æ·»åŠ ä¸€è¡Œ__slots__ = (â€˜__valueâ€™, )ï¼Œå†æ¬¡è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œå°†ä¼šåœ¨åŸæ¥çš„ç¬¬10è¡Œå¤„äº§ç”ŸAttributeErroré”™è¯¯ã€‚ 


### 35. å¯¹ä¸‹é¢ç»™å‡ºçš„å­—å…¸æŒ‰å€¼ä»å¤§åˆ°å°å¯¹é”®è¿›è¡Œæ’åºã€‚

```
prices = {<!-- -->
    'AAPL': 191.88,
    'GOOG': 1186.96,
    'IBM': 149.24,
    'ORCL': 48.44,
    'ACN': 166.89,
    'FB': 208.09,
    'SYMC': 21.29
}

```

>  
 **æ€è·¯**ï¼šsortedå‡½æ•°çš„é«˜é˜¶ç”¨æ³•åœ¨é¢è¯•çš„æ—¶å€™ç»å¸¸å‡ºç°ï¼Œkeyå‚æ•°å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°åæˆ–ä¸€ä¸ªLambdaå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼ä»£è¡¨äº†åœ¨æ’åºæ—¶æ¯”è¾ƒå…ƒç´ çš„ä¾æ®ã€‚ 


```
sorted(prices, key=lambda x: prices[x], reverse=True) 

```

### 36. è¯´ä¸€ä¸‹`namedtuple`çš„ç”¨æ³•å’Œä½œç”¨ã€‚

>  
 **æ€è·¯**ï¼šPythonæ ‡å‡†åº“çš„collectionsæ¨¡å—æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„æ•°æ®ç»“æ„ï¼Œè¿™äº›å†…å®¹å¹¶ä¸æ˜¯æ¯ä¸ªå¼€å‘è€…éƒ½æ¸…æ¥šï¼Œå°±æ¯”å¦‚é¢˜ç›®é—®åˆ°çš„namedtupleï¼Œåœ¨æˆ‘å‚åŠ è¿‡çš„é¢è¯•ä¸­ï¼Œ90%çš„é¢è¯•è€…éƒ½ä¸èƒ½å‡†ç¡®çš„è¯´å‡ºå®ƒçš„ä½œç”¨å’Œåº”ç”¨åœºæ™¯ã€‚æ­¤å¤–ï¼Œdequeä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨ä½†åˆç»å¸¸è¢«å¿½è§†çš„ç±»ï¼Œè¿˜æœ‰Counterã€OrderedDict ã€defaultdict ã€UserDictç­‰ç±»ï¼Œå¤§å®¶æ¸…æ¥šå®ƒä»¬çš„ç”¨æ³•å—ï¼Ÿ 


åœ¨ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€çš„æ—¶å€™ï¼Œå®šä¹‰ç±»æ˜¯æœ€å¸¸è§çš„ä¸€ä»¶äº‹æƒ…ï¼Œæœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°åªæœ‰å±æ€§æ²¡æœ‰æ–¹æ³•çš„ç±»ï¼Œè¿™ç§ç±»çš„å¯¹è±¡é€šå¸¸åªç”¨äºç»„ç»‡æ•°æ®ï¼Œå¹¶ä¸èƒ½æ¥æ”¶æ¶ˆæ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠè¿™ç§ç±»ç§°ä¸ºæ•°æ®ç±»æˆ–è€…é€€åŒ–çš„ç±»ï¼Œå°±åƒCè¯­è¨€ä¸­çš„ç»“æ„ä½“é‚£æ ·ã€‚æˆ‘ä»¬å¹¶ä¸å»ºè®®ä½¿ç”¨è¿™ç§é€€åŒ–çš„ç±»ï¼Œåœ¨Pythonä¸­å¯ä»¥ç”¨namedtupleï¼ˆå‘½åå…ƒç»„ï¼‰æ¥æ›¿ä»£è¿™ç§ç±»ã€‚

```
from collections import namedtuple

Card = namedtuple('Card', ('suite', 'face'))
card1 = Card('çº¢æ¡ƒ', 13)
card2 = Card('è‰èŠ±', 5)
print(f'{<!-- -->card1.suite}{<!-- -->card1.face}')
print(f'{<!-- -->card2.suite}{<!-- -->card2.face}')

```

å‘½åå…ƒç»„ä¸æ™®é€šå…ƒç»„ä¸€æ ·æ˜¯ä¸å¯å˜å®¹å™¨ï¼Œä¸€æ—¦å°†æ•°æ®å­˜å‚¨åœ¨namedtupleçš„é¡¶å±‚å±æ€§ä¸­ï¼Œæ•°æ®å°±ä¸èƒ½å†ä¿®æ”¹äº†ï¼Œä¹Ÿå°±æ„å‘³ç€å¯¹è±¡ä¸Šçš„æ‰€æœ‰å±æ€§éƒ½éµå¾ªâ€œä¸€æ¬¡å†™å…¥ï¼Œå¤šæ¬¡è¯»å–â€çš„åŸåˆ™ã€‚å’Œæ™®é€šå…ƒç»„ä¸åŒçš„æ˜¯ï¼Œå‘½åå…ƒç»„ä¸­çš„æ•°æ®æœ‰è®¿é—®åç§°ï¼Œå¯ä»¥é€šè¿‡åç§°è€Œä¸æ˜¯ç´¢å¼•æ¥è·å–ä¿å­˜çš„æ•°æ®ï¼Œä¸ä»…åœ¨æ“ä½œä¸Šæ›´åŠ ç®€å•ï¼Œä»£ç çš„å¯è¯»æ€§ä¹Ÿä¼šæ›´å¥½ã€‚

å‘½åå…ƒç»„çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥å®ƒè¿˜å¯ä»¥ä½œä¸ºçˆ¶ç±»åˆ›å»ºå­ç±»ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå‘½åå…ƒç»„å†…ç½®äº†ä¸€ç³»åˆ—çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡_asdictæ–¹æ³•å°†å‘½åå…ƒç»„å¤„ç†æˆå­—å…¸ï¼Œä¹Ÿå¯ä»¥é€šè¿‡_replaceæ–¹æ³•åˆ›å»ºå‘½åå…ƒç»„å¯¹è±¡çš„æµ…æ‹·è´ã€‚

```
class MyCard(Card):

    def show(self):
        faces = ['', 'A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K']
        return f'{<!-- -->self.suite}{<!-- -->faces[self.face]}'


print(Card)    # &lt;class '__main__.Card'&gt;
card3 = MyCard('æ–¹å—', 12)
print(card3.show())    # æ–¹å—Q
print(dict(card1._asdict()))    # {'suite': 'çº¢æ¡ƒ', 'face': 13}
print(card2._replace(suite='æ–¹å—'))    # Card(suite='æ–¹å—', face=5)

```

æ€»è€Œè¨€ä¹‹ï¼Œå‘½åå…ƒç»„èƒ½æ›´å¥½çš„ç»„ç»‡æ•°æ®ç»“æ„ï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°å’Œå¯è¯»ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸‹æ˜¯å…ƒç»„ã€å­—å…¸å’Œæ•°æ®ç±»çš„æ›¿ä»£å“ã€‚åœ¨éœ€è¦åˆ›å»ºå ç”¨ç©ºé—´æ›´å°‘çš„ä¸å¯å˜ç±»æ—¶ï¼Œå‘½åå…ƒç»„å°±æ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚

### 37. æŒ‰ç…§é¢˜ç›®è¦æ±‚å†™å‡ºå¯¹åº”çš„å‡½æ•°ã€‚

è¦æ±‚ï¼šå†™ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªæœ‰è‹¥å¹²ä¸ªæ•´æ•°çš„åˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨ä¸­æŸä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°è¶…è¿‡äº†50%ï¼Œè¿”å›è¿™ä¸ªå…ƒç´ ã€‚

```
def more_than_half(items):
    temp, times = None, 0
    for item in items:
        if times == 0:
            temp = item
            times += 1
        else:
            if item == temp:
                times += 1
            else:
                times -= 1
    return temp

```

>  
 **æ€è·¯**ï¼šLeetCodeä¸Šçš„é¢˜ç›®ï¼Œåœ¨Pythoné¢è¯•ä¸­å‡ºç°è¿‡ï¼Œåˆ©ç”¨å…ƒç´ å‡ºç°æ¬¡æ•°è¶…è¿‡äº†50%è¿™ä¸€ç‰¹å¾ï¼Œå‡ºç°å’Œtempç›¸åŒçš„å…ƒç´ å°±å°†è®¡æ•°å€¼åŠ 1ï¼Œå‡ºç°å’Œtempä¸åŒçš„å…ƒç´ å°±å°†è®¡æ•°å€¼å‡1ã€‚å¦‚æœè®¡æ•°å€¼ä¸º0ï¼Œè¯´æ˜ä¹‹å‰å‡ºç°çš„å…ƒç´ å·²ç»å¯¹æœ€ç»ˆçš„ç»“æœæ²¡æœ‰å½±å“ï¼Œç”¨tempè®°ä¸‹å½“å‰å…ƒç´ å¹¶å°†è®¡æ•°å€¼ç½®ä¸º1ã€‚æœ€ç»ˆï¼Œå‡ºç°æ¬¡æ•°è¶…è¿‡äº†50%çš„è¿™ä¸ªå…ƒç´ ä¸€å®šä¼šè¢«èµ‹å€¼ç»™å˜é‡tempã€‚ 


### 38. æŒ‰ç…§é¢˜ç›®è¦æ±‚å†™å‡ºå¯¹åº”çš„å‡½æ•°ã€‚

>  
 è¦æ±‚ï¼šå†™ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ˆåˆ—è¡¨ä¸­çš„å…ƒç´ å¯èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼‰ï¼Œè¿”å›è¯¥åˆ—è¡¨æœ€å¤§çš„åµŒå¥—æ·±åº¦ã€‚ä¾‹å¦‚ï¼šåˆ—è¡¨[1, 2, 3]çš„åµŒå¥—æ·±åº¦ä¸º1ï¼Œåˆ—è¡¨[[1], [2, [3]]]çš„åµŒå¥—æ·±åº¦ä¸º3ã€‚ 


```
def list_depth(items):
    if isinstance(items, list):
        max_depth = 1
        for item in items:
            max_depth = max(list_depth(item) + 1, max_depth)
        return max_depth
    return 0

```

>  
 **æ€è·¯**ï¼šçœ‹åˆ°é¢˜ç›®åº”è¯¥èƒ½å¤Ÿæ¯”è¾ƒè‡ªç„¶çš„æƒ³åˆ°ä½¿ç”¨é€’å½’çš„æ–¹å¼æ£€æŸ¥åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚ 


### 39. æŒ‰ç…§é¢˜ç›®è¦æ±‚å†™å‡ºå¯¹åº”çš„è£…é¥°å™¨ã€‚

>  
 è¦æ±‚ï¼šæœ‰ä¸€ä¸ªé€šè¿‡ç½‘ç»œè·å–æ•°æ®çš„å‡½æ•°ï¼ˆå¯èƒ½ä¼šå› ä¸ºç½‘ç»œåŸå› å‡ºç°å¼‚å¸¸ï¼‰ï¼Œå†™ä¸€ä¸ªè£…é¥°å™¨è®©è¿™ä¸ªå‡½æ•°åœ¨å‡ºç°æŒ‡å®šå¼‚å¸¸æ—¶å¯ä»¥é‡è¯•æŒ‡å®šçš„æ¬¡æ•°ï¼Œå¹¶åœ¨æ¯æ¬¡é‡è¯•ä¹‹å‰éšæœºå»¶è¿Ÿä¸€æ®µæ—¶é—´ï¼Œæœ€é•¿å»¶è¿Ÿæ—¶é—´å¯ä»¥é€šè¿‡å‚æ•°è¿›è¡Œæ§åˆ¶ã€‚ 


**æ–¹æ³•ä¸€ï¼š**

```
from functools import wraps
from random import random
from time import sleep


def retry(*, retry_times=3, max_wait_secs=5, errors=(Exception, )):

    def decorate(func):

        @wraps(func)
        def wrapper(*args, **kwargs):
            for _ in range(retry_times):
                try:
                    return func(*args, **kwargs)
                except errors:
                    sleep(random() * max_wait_secs)
            return None

        return wrapper

    return decorate

```

**æ–¹æ³•äºŒï¼š**

```
from functools import wraps
from random import random
from time import sleep


class Retry(object):

    def __init__(self, *, retry_times=3, max_wait_secs=5, errors=(Exception, )):
        self.retry_times = retry_times
        self.max_wait_secs = max_wait_secs
        self.errors = errors

    def __call__(self, func):

        @wraps(func)
        def wrapper(*args, **kwargs):
            for _ in range(self.retry_times):
                try:
                    return func(*args, **kwargs)
                except self.errors:
                    sleep(random() * self.max_wait_secs)
            return None

        return wrapper

```

>  
 **æ€è·¯**ï¼šæˆ‘ä»¬ä¸æ­¢ä¸€æ¬¡å¼ºè°ƒè¿‡ï¼Œè£…é¥°å™¨å‡ ä¹æ˜¯Pythoné¢è¯•å¿…é—®å†…å®¹ï¼Œè¿™ä¸ªé¢˜ç›®æ¯”ä¹‹å‰çš„é¢˜ç›®ç¨å¾®å¤æ‚ä¸€äº›ï¼Œå®ƒéœ€è¦çš„æ˜¯ä¸€ä¸ªå‚æ•°åŒ–çš„è£…é¥°å™¨ã€‚ 


### 40. å†™ä¸€ä¸ªå‡½æ•°å®ç°å­—ç¬¦ä¸²åè½¬ï¼Œå°½å¯èƒ½å†™å‡ºä½ çŸ¥é“çš„æ‰€æœ‰æ–¹æ³•ã€‚

>  
 **æ€è·¯**ï¼šçƒ‚å¤§è¡—çš„é¢˜ç›®ï¼ŒåŸºæœ¬ä¸Šç®—æ˜¯é€äººå¤´çš„é¢˜ç›®ã€‚ 


**æ–¹æ³•ä¸€ï¼šåå‘åˆ‡ç‰‡**

```
def reverse_string(content):
    return content[::-1]

```

**æ–¹æ³•äºŒï¼šåè½¬æ‹¼æ¥**

```
def reverse_string(content):
    return ''.join(reversed(content))

```

**æ–¹æ³•ä¸‰ï¼šé€’å½’è°ƒç”¨**

```
def reverse_string(content):
    if len(content) &lt;= 1:
        return content
    return reverse_string(content[1:]) + content[0]

```

**æ–¹æ³•å››ï¼šåŒç«¯é˜Ÿåˆ—**

```
from collections import deque

def reverse_string(content):
    q = deque()
    q.extendleft(content)
    return ''.join(q)

```

**æ–¹æ³•äº”ï¼šåå‘ç»„è£…**

```
from io import StringIO

def reverse_string(content):
    buffer = StringIO()
    for i in range(len(content) - 1, -1, -1):
        buffer.write(content[i])
    return buffer.getvalue()

```

**æ–¹æ³•å…­ï¼šåè½¬æ‹¼æ¥**

```
def reverse_string(content):
    return ''.join([content[i] for i in range(len(content) - 1, -1, -1)])

```

**æ–¹æ³•ä¸ƒï¼šåŠæˆªäº¤æ¢**

```
def reverse_string(content):
    length, content= len(content), list(content)
    for i in range(length // 2):
        content[i], content[length - 1 - i] = content[length - 1 - i], content[i]
    return ''.join(content)

```

**æ–¹æ³•å…«ï¼šå¯¹ä½äº¤æ¢**

```
def reverse_string(content):
    length, content= len(content), list(content)
    for i, j in zip(range(length // 2), range(length - 1, length // 2 - 1, -1)):
        content[i], content[j] = content[j], content[i]
    return ''.join(content)

```

>  
 æ‰©å±•ï¼šè¿™äº›æ–¹æ³•å…¶å®éƒ½æ˜¯å¤§åŒå°å¼‚çš„ï¼Œé¢è¯•çš„æ—¶å€™èƒ½å¤Ÿç»™å‡ºå‡ ç§æœ‰ä»£è¡¨æ€§çš„å°±è¶³å¤Ÿäº†ã€‚ç»™å¤§å®¶ç•™ä¸€ä¸ªæ€è€ƒé¢˜ï¼Œä¸Šé¢è¿™äº›æ–¹æ³•ï¼Œå“ªäº›åšæ³•çš„æ€§èƒ½è¾ƒå¥½å‘¢ï¼Ÿæˆ‘ä»¬ä¹‹å‰æåˆ°è¿‡å‰–æä»£ç æ€§èƒ½çš„æ–¹æ³•ï¼Œå¤§å®¶å¯ä»¥ç”¨è¿™äº›æ–¹æ³•æ¥æ£€éªŒä¸‹ä½ ç»™å‡ºçš„ç­”æ¡ˆæ˜¯å¦æ­£ç¡®ã€‚ 


## ç»“æŸè¯­ğŸ¥‡ğŸ¥‡ğŸ¥‡

```
 **ç»“æŸè¯­ ğŸ¥‡ğŸ¥‡ğŸ¥‡**
&gt; å‘ç°éå¸¸å¥½ç”¨çš„ä¸€ä¸ªåˆ·é¢˜ç½‘ç«™!å¤§å®¶ä¸€èµ·åŠªåŠ›ï¼åŠ æ²¹ï¼ï¼ï¼
&gt; é¢˜ç›®éš¾åº¦å¯ä»¥è‡ªè¡Œé€‰æ‹©
&gt; åœ¨çº¿ç¼–ç¨‹å‡ºç­”æ¡ˆï¼Œï¼ˆä¹Ÿå¯è‡ªè¡ŒæŸ¥çœ‹ç­”æ¡ˆï¼‰éå¸¸æ–¹ä¾¿
&gt; ç¨‹åºå‘˜åˆ·é¢˜ç¥å™¨ç½‘ç«™[ç‚¹å‡»é“¾æ¥æ³¨å†Œå³å¯åˆ·é¢˜ ](https://www.nowcoder.com/link/pc_csdncpt_bcid_python) 
&gt; ç¥å¤§å®¶æ—©æ—¥æ‰¾åˆ°æ»¡æ„çš„å·¥ä½œ



```
