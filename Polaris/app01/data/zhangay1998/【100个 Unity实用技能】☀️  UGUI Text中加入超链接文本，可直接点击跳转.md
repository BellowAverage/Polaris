
--- 
title:  ã€100ä¸ª Unityå®ç”¨æŠ€èƒ½ã€‘â˜€ï¸ | UGUI Textä¸­åŠ å…¥è¶…é“¾æ¥æ–‡æœ¬ï¼Œå¯ç›´æ¥ç‚¹å‡»è·³è½¬ 
tags: []
categories: [] 

---
<img src="https://img-blog.csdnimg.cn/4ea0ad75b9c145e5ba7d219b7e425099.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

### <font color="#ff6984" size="5"> Unity </font>å°ç§‘æ™®

è€è§„çŸ©ï¼Œå…ˆä»‹ç»ä¸€ä¸‹<font color="#ff6984" size="4"> **Unity** </font>çš„ç§‘æ™®å°çŸ¥è¯†ï¼š<img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">
- <font color="#ff6984" size="4">**Unity**</font>æ˜¯ å®æ—¶3Däº’åŠ¨å†…å®¹åˆ›ä½œå’Œè¿è¥å¹³å° ã€‚- åŒ…æ‹¬<font color="#green" size="4">æ¸¸æˆå¼€å‘</font>ã€<font color="#green" size="4">ç¾æœ¯</font>ã€<font color="#green" size="4">å»ºç­‘</font>ã€<font color="#green" size="4">æ±½è½¦è®¾è®¡</font>ã€<font color="#green" size="4">å½±è§†</font>åœ¨å†…çš„æ‰€æœ‰åˆ›ä½œè€…ï¼Œå€ŸåŠ©<font color="#ff6984" size="4"> **Unity** </font>å°†åˆ›æ„å˜æˆç°å®ã€‚- <font color="#ff6e84" size="4">**Unity**</font> å¹³å°æä¾›ä¸€æ•´å¥—å®Œå–„çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆï¼Œå¯ç”¨äºåˆ›ä½œã€è¿è¥å’Œå˜ç°ä»»ä½•å®æ—¶äº’åŠ¨çš„2Då’Œ3Då†…å®¹ï¼Œæ”¯æŒå¹³å°åŒ…æ‹¬<font color="#green" size="4">æ‰‹æœº</font>ã€<font color="#green" size="4">å¹³æ¿ç”µè„‘</font>ã€<font color="#green" size="4">PC</font>ã€<font color="#green" size="4">æ¸¸æˆä¸»æœº</font>ã€<font color="#green" size="4">å¢å¼ºç°å®</font>å’Œ<font color="#green" size="4">è™šæ‹Ÿç°å®è®¾å¤‡ã€‚ </font>- ä¹Ÿå¯ä»¥ç®€å•æŠŠ <font color="#ff6e84" size="4">**Unity**</font> ç†è§£ä¸ºä¸€ä¸ª<font color="#ee82ee" size="4">æ¸¸æˆå¼•æ“</font>ï¼Œå¯ä»¥ç”¨æ¥ä¸“ä¸šåˆ¶ä½œ<font color="#ee0000" size="4">æ¸¸æˆ</font>ï¼
### <font color="#ff6984" size="5"> Unity </font>å®ç”¨å°æŠ€èƒ½å­¦ä¹ 

#### ã€100ä¸ª Unityå®ç”¨æŠ€èƒ½ã€‘â˜€ï¸ | UGUI Textä¸­åŠ å…¥è¶…é“¾æ¥æ–‡æœ¬ï¼Œå¯ç›´æ¥ç‚¹å‡»è·³è½¬

åœ¨é¡¹ç›®ä¸­æˆ‘ä»¬å¯èƒ½ä¼šæœ‰éœ€æ±‚è®©æ–‡æœ¬æ˜¾ç¤ºä¸­å¢åŠ ä»¥ä¸€ä¸ªå¯ä»¥è¿›è¡Œç‚¹å‡»çš„å…·æœ‰è¶…é“¾æ¥çš„æ–‡æœ¬ã€‚

æœ€å¸¸è§çš„æ˜¯åœ¨ä¸€æ®µæ­£å¸¸æ–‡æœ¬å†…å®¹ä¸­ï¼Œæœ‰ä¸­é—´å‡ ä¸ªå­—å¯ä»¥è¿›è¡Œç‚¹å‡»å¹¶æ‰§è¡ŒæŸç§äº‹ä»¶ï¼Œæ¯”å¦‚å¾ˆå¤šæ¸¸æˆçš„èŠå¤©å¤§å…ä¸­ä¼šæœ‰ç©å®¶å‘å‡ºä¸€æ®µæ–‡å­—å¹¶å¸¦æœ‰è£…å¤‡çš„åç§°ï¼Œæ­¤æ—¶ç‚¹å‡»è£…å¤‡å°±å¯ä»¥å¼¹çª—æ˜¾ç¤ºè£…å¤‡çš„ä¿¡æ¯ï¼Œè¿™ä¸ªä¹Ÿç®—æ˜¯åœ¨æ–‡æœ¬ä¸­åŠ å…¥è¶…é“¾æ¥çš„ä¸€ç§ã€‚

ä¸‹é¢å°±æ¥çœ‹ä¸€ä¸‹æ€æ ·ä½¿ç”¨Unityä¸­çš„UGUIæ¥å®ç°è¿™ç§æ•ˆæœï¼Œå®ç°çš„æ–¹å¼åº”è¯¥æœ‰è®¸å¤šç§ï¼Œè¿™é‡Œå°±æ¼”ç¤ºä¸¤ç§ç»™å¤§å®¶å‚è€ƒä½¿ç”¨äº†ï¼

##### ç¬¬ä¸€ç§æ–¹æ³•ï¼šé‡å†™ä¸€ä¸ªTextæ–‡æœ¬æ§ä»¶

éœ€è¦æ–°å»ºä¸€ä¸ªè„šæœ¬HyperlinkText .csæ”¾åˆ°é¡¹ç›®ä¸­ï¼Œæ ¸å¿ƒè„šæœ¬ä»£ç å¦‚ä¸‹ï¼š

```
using System;
using System.Collections;
using System.Collections.Generic;
using System.Text;
using System.Text.RegularExpressions;
using UnityEngine;
using UnityEngine.Events;
using UnityEngine.EventSystems;
using UnityEngine.UI;
 
/// &lt;summary&gt;
/// æ–‡æœ¬æ§ä»¶,æ”¯æŒè¶…é“¾æ¥
/// &lt;/summary&gt;
public class HyperlinkText : Text, IPointerClickHandler
{<!-- -->
    /// &lt;summary&gt;
    /// è¶…é“¾æ¥ä¿¡æ¯ç±»
    /// &lt;/summary&gt;
    private class HyperlinkInfo
    {<!-- -->
        public int startIndex;
 
        public int endIndex;
 
        public string name;
 
        public readonly List&lt;Rect&gt; boxes = new List&lt;Rect&gt;();
    }
 
    /// &lt;summary&gt;
    /// è§£æå®Œæœ€ç»ˆçš„æ–‡æœ¬
    /// &lt;/summary&gt;
    private string m_OutputText;
 
    /// &lt;summary&gt;
    /// è¶…é“¾æ¥ä¿¡æ¯åˆ—è¡¨
    /// &lt;/summary&gt;
    private readonly List&lt;HyperlinkInfo&gt; m_HrefInfos = new List&lt;HyperlinkInfo&gt;();
 
    /// &lt;summary&gt;
    /// æ–‡æœ¬æ„é€ å™¨
    /// &lt;/summary&gt;
    protected static readonly StringBuilder s_TextBuilder = new StringBuilder();
 
    [Serializable]
    public class HrefClickEvent : UnityEvent&lt;string&gt; {<!-- --> }
 
    [SerializeField]
    private HrefClickEvent m_OnHrefClick = new HrefClickEvent();
 
    /// &lt;summary&gt;
    /// è¶…é“¾æ¥ç‚¹å‡»äº‹ä»¶
    /// &lt;/summary&gt;
    public HrefClickEvent onHrefClick
    {<!-- -->
        get {<!-- --> return m_OnHrefClick; }
        set {<!-- --> m_OnHrefClick = value; }
    }
 
 
    /// &lt;summary&gt;
    /// è¶…é“¾æ¥æ­£åˆ™
    /// &lt;/summary&gt;
    private static readonly Regex s_HrefRegex = new Regex(@"&lt;a href=([^&gt;\n\s]+)&gt;(.*?)(&lt;/a&gt;)", RegexOptions.Singleline);
 
    private HyperlinkText mHyperlinkText;
 
    protected override void Awake()
    {<!-- -->
        base.Awake();
        mHyperlinkText = GetComponent&lt;HyperlinkText&gt;();
    }
    protected override void OnEnable()
    {<!-- -->
        base.OnEnable();
        mHyperlinkText.onHrefClick.AddListener(OnHyperlinkTextInfo);
    }
 
    protected override void OnDisable()
    {<!-- -->
        base.OnDisable();
        mHyperlinkText.onHrefClick.RemoveListener(OnHyperlinkTextInfo);
    }
 
 
    public override void SetVerticesDirty()
    {<!-- -->
        base.SetVerticesDirty();
#if UNITY_EDITOR
        if (UnityEditor.PrefabUtility.GetPrefabType(this) == UnityEditor.PrefabType.Prefab)
        {<!-- -->
            return;
        }
#endif
        m_OutputText = GetOutputText(text);
 
    }
 
 
    protected override void OnPopulateMesh(VertexHelper toFill)
    {<!-- -->
        var orignText = m_Text;
        m_Text = m_OutputText;
        base.OnPopulateMesh(toFill);
        m_Text = orignText;
        UIVertex vert = new UIVertex();
 
        // å¤„ç†è¶…é“¾æ¥åŒ…å›´æ¡†
        foreach (var hrefInfo in m_HrefInfos)
        {<!-- -->
            hrefInfo.boxes.Clear();
            if (hrefInfo.startIndex &gt;= toFill.currentVertCount)
            {<!-- -->
                continue;
            }
 
            // å°†è¶…é“¾æ¥é‡Œé¢çš„æ–‡æœ¬é¡¶ç‚¹ç´¢å¼•åæ ‡åŠ å…¥åˆ°åŒ…å›´æ¡†
            toFill.PopulateUIVertex(ref vert, hrefInfo.startIndex);
            var pos = vert.position;
            
            var bounds = new Bounds(pos, Vector3.zero);
            for (int i = hrefInfo.startIndex, m = hrefInfo.endIndex; i &lt; m; i++)
            {<!-- -->
                if (i &gt;= toFill.currentVertCount)
                {<!-- -->
                    break;
                }
 
                toFill.PopulateUIVertex(ref vert, i);
                pos = vert.position;
                if (pos.x &lt; bounds.min.x) // æ¢è¡Œé‡æ–°æ·»åŠ åŒ…å›´æ¡†
                {<!-- -->
                    hrefInfo.boxes.Add(new Rect(bounds.min, bounds.size));
                    bounds = new Bounds(pos, Vector3.zero);
                }
                else
                {<!-- -->
                    bounds.Encapsulate(pos); // æ‰©å±•åŒ…å›´æ¡†
 
                }
            }
 
            hrefInfo.boxes.Add(new Rect(bounds.min, bounds.size));
        }
    }
 
    /// &lt;summary&gt;
    /// è·å–è¶…é“¾æ¥è§£æåçš„æœ€åè¾“å‡ºæ–‡æœ¬
    /// &lt;/summary&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    protected virtual string GetOutputText(string outputText)
    {<!-- -->
        s_TextBuilder.Length = 0;
        m_HrefInfos.Clear();
        var indexText = 0;
        foreach (Match match in s_HrefRegex.Matches(outputText))
        {<!-- -->
            s_TextBuilder.Append(outputText.Substring(indexText, match.Index - indexText));
 
            string str = s_TextBuilder.ToString();
            char[] array = str.ToCharArray();                //æŠŠå­—ç¬¦ä¸²è½¬åŒ–æˆå­—ç¬¦æ•°ç»„
            IEnumerator enumerator = array.GetEnumerator();         //å¾—åˆ°æšä¸¾å™¨
            StringBuilder stringBuilder = new StringBuilder();
            while (enumerator.MoveNext())                         //å¼€å§‹æšä¸¾
            {<!-- -->
                if ((char)enumerator.Current != ' ')         //å‘StringBuilderç±»å¯¹è±¡æ·»åŠ éç©ºæ ¼å­—ç¬¦
                    stringBuilder.Append(enumerator.Current.ToString());
            }
 
            var group = match.Groups[1];
            var hrefInfo = new HyperlinkInfo
            {<!-- -->
                startIndex = stringBuilder.Length * 4, // è¶…é“¾æ¥é‡Œçš„æ–‡æœ¬èµ·å§‹é¡¶ç‚¹ç´¢å¼•
                endIndex = (stringBuilder.Length + match.Groups[2].Length - 1) * 4 + 3 ,
                name = group.Value
            };
 
            m_HrefInfos.Add(hrefInfo);
            s_TextBuilder.Append("&lt;color=blue&gt;");  // è¶…é“¾æ¥é¢œè‰²
            s_TextBuilder.Append(match.Groups[2].Value);
            s_TextBuilder.Append("&lt;/color&gt;");
            indexText = match.Index + match.Length;
        }
        s_TextBuilder.Append(outputText.Substring(indexText, outputText.Length - indexText));
        return s_TextBuilder.ToString();
    }
 
    /// &lt;summary&gt;
    /// ç‚¹å‡»äº‹ä»¶æ£€æµ‹æ˜¯å¦ç‚¹å‡»åˆ°è¶…é“¾æ¥æ–‡æœ¬
    /// &lt;/summary&gt;
    /// &lt;param name="eventData"&gt;&lt;/param&gt;
    public void OnPointerClick(PointerEventData eventData)
    {<!-- -->
        Vector2 lp = Vector2.zero;
        
        RectTransformUtility.ScreenPointToLocalPointInRectangle(rectTransform, eventData.position, eventData.pressEventCamera, out lp);
 
        foreach (var hrefInfo in m_HrefInfos)
        {<!-- -->
            var boxes = hrefInfo.boxes;
            for (var i = 0; i &lt; boxes.Count; ++i)
            {<!-- -->
                if (boxes[i].Contains(lp))
                {<!-- -->
                    m_OnHrefClick.Invoke(hrefInfo.name);
                    return;
                }
            }
        }
    }
    /// &lt;summary&gt;
    /// å½“å‰ç‚¹å‡»è¶…é“¾æ¥å›è°ƒ
    /// &lt;/summary&gt;
    /// &lt;param name="info"&gt;å›è°ƒä¿¡æ¯&lt;/param&gt;
    private void OnHyperlinkTextInfo(string info)
    {<!-- -->
        Debug.Log("è¶…é“¾æ¥ä¿¡æ¯ï¼š" + info);
        Application.OpenURL(info);
    }
}

```

è„šæœ¬å®Œæˆåï¼Œåœ¨åœºæ™¯ä¸­æ–°å»ºä¸€ä¸ªTextç»„ä»¶ï¼ˆæˆ–è€…Create-&gt;Emptyä¹Ÿå¯ä»¥ï¼‰ï¼Œç„¶åå°†åŸæœ‰çš„Textç»„ä»¶åˆ æ‰ï¼Œæ·»åŠ åˆšæ‰æ–°å»ºçš„è„šæœ¬ç»„ä»¶HyperlinkText ã€‚

æ­¤æ—¶åœ¨è¯¥ç»„ä»¶ä¸­æ·»åŠ æ–‡å­—`æ–‡æœ¬æµ‹è¯•ï¼š&lt;a href=https://xiaoy.blog.csdn.net/&gt;[å°Yåšå®¢]&lt;/a&gt;`ï¼Œåœºæ™¯ä¸­å¦‚ä¸‹æ˜¾ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/2edac8f1cd4141e6ab354d92197fdf00.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

æ­¤æ—¶è¿è¡Œé¡¹ç›®ï¼Œå¯¹è“è‰²å­—ä½“è¿›è¡Œç‚¹å‡»å³å¯å®Œæˆè¶…é“¾æ¥è·³è½¬åŠŸèƒ½ã€‚

å¦‚ä¸æƒ³è·³è½¬ç½‘é¡µé“¾æ¥ï¼Œè€Œæ˜¯æ‰§è¡Œé¡¹ç›®ä¸­çš„æŸä¸ªäº‹ä»¶ï¼ˆå¦‚æ‰“å¼€æŸä¸ªçª—å£ï¼‰ï¼Œå¯ä»¥åœ¨è„šæœ¬ä¸­çš„`OnHyperlinkTextInfo()`æ–¹æ³•ä¸­è¿›è¡Œå…·ä½“äº‹ä»¶çš„é€»è¾‘æ·»åŠ ã€‚ <img src="https://img-blog.csdnimg.cn/48d5b2ec56b14ec78e4ac135d1ebd4e1.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

##### ç¬¬äºŒç§æ–¹æ³•ï¼šé€šè¿‡åœ¨Textç»„ä»¶ä¸­å†…åµŒButtonçš„æ–¹å¼å®Œæˆç‚¹å‡»åŠŸèƒ½

è¿™ä¸ªæ–¹æ³•å…¶å®å°±æ˜¯å±äºæ¯”è¾ƒæœ´å®æ— åçš„æ–¹æ¡ˆäº†ï¼Œé€šè¿‡åœ¨Textç»„ä»¶å†æ·»åŠ ä¸€ä¸ªButtonæ”¾åˆ°æŒ‡å®šæ–‡å­—ä¸‹é¢å®Œæˆç‚¹å‡»äº‹ä»¶ï¼Œè¿™å°±å±äºåŸºæœ¬çš„UGUIæ“ä½œäº†ï¼Œä¸å±äºè¶…é“¾æ¥æ–‡æœ¬é‚£ä¸€ç±»ã€‚

ä¸è¿‡ä»è¡¨ç°æ•ˆæœæ¥çœ‹ï¼ŒåŠŸèƒ½æ˜¯å®Œå…¨å¯ä»¥å®Œæˆå®ç°çš„ï¼Œå¹¶ä¸”è¿˜å¯ä»¥é€šè¿‡å¯Œæ–‡æœ¬æ¥å®šåˆ¶å„ç§é¢œè‰²çš„æ–‡æœ¬æ˜¾ç¤ºæ•ˆæœã€‚ <img src="https://img-blog.csdnimg.cn/3ba8d4cb5d404e148e9f7ac1ca61224c.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> <img src="https://img-blog.csdnimg.cn/82e6aafdb00c40f8a3c69dd06a6a5eb4.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

å¯¹äºä¸€äº›éœ€è¦é™æ€æ˜¾ç¤ºçš„æ–‡æœ¬æ¥è¯´ï¼Œè¿™ç§æœ€åŸå§‹çš„æ–¹æ³•åè€Œå¯ä»¥æ›´æœ‰æ•ˆçš„å®ç°åŠŸèƒ½ï¼Œä½†å¦‚æœæ˜¯åŠ¨æ€æ–‡æœ¬ï¼Œé‚£è¿˜æ˜¯ä¸æ¨èè¿™ç§æ–¹æ³•çš„ã€‚

>  
 -  ğŸ¬ åšå®¢ä¸»é¡µï¼š -  ğŸ¥ æœ¬æ–‡ç”± **å‘†å‘†æ•²ä»£ç çš„å°Y** åŸåˆ›ï¼Œé¦–å‘äº **CSDN**ğŸ™‰ -  ğŸ„ å­¦ä¹ ä¸“æ æ¨èï¼š -  ğŸŒ² æ¸¸æˆåˆ¶ä½œä¸“æ æ¨èï¼š -  ğŸŒ²Unityå®æˆ˜100ä¾‹ä¸“æ æ¨èï¼š -  ğŸ… æ¬¢è¿ç‚¹èµ ğŸ‘ æ”¶è— â­ç•™è¨€ ğŸ“ å¦‚æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼ -  ğŸ“† æœªæ¥å¾ˆé•¿ï¼Œå€¼å¾—æˆ‘ä»¬å…¨åŠ›å¥”èµ´æ›´ç¾å¥½çš„ç”Ÿæ´»âœ¨ -  ------------------â¤ï¸åˆ†å‰²çº¿â¤ï¸-------------------------  


<img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

<img src="https://img-blog.csdnimg.cn/01e7ec91f0984ce4a166bf72cb52bea5.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

<font color="#ff6984" size="5"> **èµ„æ–™ç™½å«–ï¼ŒæŠ€æœ¯äº’åŠ©**</font>

|å­¦ä¹ è·¯çº¿æŒ‡å¼•ï¼ˆç‚¹å‡»è§£é”ï¼‰|çŸ¥è¯†å®šä½|äººç¾¤å®šä½
|------
||å…¥é—¨çº§|æœ¬ä¸“æ ä»Unityå…¥é—¨å¼€å§‹å­¦ä¹ ï¼Œå¿«é€Ÿè¾¾åˆ°Unityçš„å…¥é—¨æ°´å¹³
||è¿›é˜¶çº§|è®¡åˆ’åˆ¶ä½œUnityçš„ 100ä¸ªå®æˆ˜æ¡ˆä¾‹ï¼åŠ©ä½ è¿›å…¥Unityä¸–ç•Œï¼Œäº‰å–åšæœ€å…¨çš„UnityåŸåˆ›åšå®¢å¤§å…¨ã€‚
||éš¾åº¦åé«˜|åˆ†äº«å­¦ä¹ ä¸€äº›Unityæˆå“çš„æ¸¸æˆDemoå’Œå…¶ä»–è¯­è¨€çš„å°æ¸¸æˆï¼
||äº’åŠ©/å¹æ°´|æ•°ä¸‡äººæ¸¸æˆçˆ±å¥½è€…ç¤¾åŒºï¼ŒèŠå¤©äº’åŠ©ï¼Œç™½å«–å¥–å“
||UnityæŸ¥æ¼è¡¥ç¼º|é’ˆå¯¹ä¸€äº›Unityä¸­ç»å¸¸ç”¨åˆ°çš„ä¸€äº›å°çŸ¥è¯†å’ŒæŠ€èƒ½è¿›è¡Œå­¦ä¹ ä»‹ç»ï¼Œæ ¸å¿ƒç›®çš„å°±æ˜¯è®©æˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿå­¦ä¹ Unityçš„çŸ¥è¯†ä»¥è¾¾åˆ°æŸ¥æ¼è¡¥ç¼º

<img src="https://img-blog.csdnimg.cn/20210613033645219.gif#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
