
--- 
title:  ã€Unity-UGUIæ§ä»¶å…¨é¢è§£æã€‘| Textæ–‡æœ¬ç»„ä»¶è¯¦è§£ 
tags: []
categories: [] 

---
<img src="https://img-blog.csdnimg.cn/4ea0ad75b9c145e5ba7d219b7e425099.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"> 

####  
- - <ul><li>- - - - <ul><li>- - - - - - - 


>  
 -  ğŸ¬ åšå®¢ä¸»é¡µï¼š -  ğŸ¥ æœ¬æ–‡ç”± **å‘†å‘†æ•²ä»£ç çš„å°Y** åŸåˆ›ï¼Œé¦–å‘äº **CSDN**ğŸ™‰ -  ğŸ„ å­¦ä¹ ä¸“æ æ¨èï¼š -  ğŸŒ² æ¸¸æˆåˆ¶ä½œä¸“æ æ¨èï¼š -  ğŸŒ²Unityå®æˆ˜100ä¾‹ä¸“æ æ¨èï¼š -  ğŸ… æ¬¢è¿ç‚¹èµ ğŸ‘ æ”¶è— â­ç•™è¨€ ğŸ“ å¦‚æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼ -  ğŸ“† æœªæ¥å¾ˆé•¿ï¼Œå€¼å¾—æˆ‘ä»¬å…¨åŠ›å¥”èµ´æ›´ç¾å¥½çš„ç”Ÿæ´»âœ¨ -  ------------------â¤ï¸åˆ†å‰²çº¿â¤ï¸-------------------------  


<img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

<img src="https://img-blog.csdnimg.cn/01e7ec91f0984ce4a166bf72cb52bea5.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

## ğŸ¬ã€Unity-UGUIæ§ä»¶å…¨é¢è§£æã€‘| Textæ–‡æœ¬ç»„ä»¶è¯¦è§£

<img src="https://img-blog.csdnimg.cn/eb148f3a374149c49782f346b8327092.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

### ä¸€ã€ç»„ä»¶ä»‹ç»

>  
 - **å®˜æ–¹ä»‹ç»ï¼š** The Text control displays a non-interactive piece of text to the user. This can be used to provide captions or labels for other GUI controls or to display instructions or other text.- è¯‘æ–‡ï¼š æ–‡æœ¬æ§ä»¶å‘ç”¨æˆ·æ˜¾ç¤ºéäº¤äº’çš„æ–‡æœ¬ã€‚è¿™å¯ç”¨äºä¸ºå…¶ä»–GUIæ§ä»¶æä¾›æ ‡é¢˜æˆ–æ ‡ç­¾ï¼Œæˆ–æ˜¾ç¤ºè¯´æ˜æˆ–å…¶ä»–æ–‡æœ¬ã€‚- **å®˜æ–¹ä½¿ç”¨æ‰‹å†Œåœ°å€**ï¼š **å®˜æ–¹APIåœ°å€**ï¼š 


Textæ–‡æœ¬ï¼Œæ˜¯ä¸ºäº†å‘ç”¨æˆ·å±•ç¤ºéäº¤äº’å¼çš„æ–‡æœ¬ä¿¡æ¯ã€‚ç”¨äºåœ¨å·¥ç¨‹ä¸­æ˜¾ç¤ºæ–‡å­—çš„åœ°æ–¹(å¸¸ç”¨)ï¼Œç®€å•æ¥è¯´åªè¦èƒ½çœ‹åˆ°å­—çš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨çš„è¿™ä¸ªç»„ä»¶ã€‚

åœ¨Hierarchyè§†å›¾ï¼Œé€‰æ‹© `UIâ†’Text` æ–°å»ºTextæ–‡æœ¬ï¼š

<img src="https://img-blog.csdnimg.cn/3a9137654512407face7ded537864659.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> <img src="https://img-blog.csdnimg.cn/fe502b1c9b834b82862f614ceba87e1b.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

### äºŒã€ç»„ä»¶å±æ€§é¢æ¿

ä¸‹é¢æ¥ä»‹ç»ä¸€ä¸‹ï¼ŒTextç»„ä»¶çš„å±æ€§é¢æ¿ã€‚ <img src="https://img-blog.csdnimg.cn/a092577eba954b5891d9f67beee88787.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

|å±æ€§|è¯´æ˜
|------
|Text|ç”¨äºæ˜¾ç¤ºçš„æ–‡æœ¬
|Font|æ–‡æœ¬çš„å­—ä½“
|Font Style|æ–‡æœ¬çš„æ ·å¼ï¼ˆæ­£å¸¸ã€åŠ ç²—ã€æ–œçº¿ï¼‰
|Font Size|å­—ä½“çš„å¤§å°
|Line Spacing|æ–‡æœ¬è¡Œä¹‹é—´çš„é—´è·
|Rich Text|æ˜¯å¦æ”¯æŒå¯Œæ–‡æœ¬ï¼Œå¯Œæ–‡æœ¬æ˜¯å¸¦æœ‰æ ‡è®°æ ‡ç­¾çš„æ–‡æœ¬ï¼Œå¢å¼ºæ–‡æœ¬çš„æ˜¾ç¤ºæ•ˆæœ
|Alignment|æ–‡æœ¬çš„æ°´å¹³å’Œå‚ç›´å¯¹é½æ–¹å¼
|Align By Geometry|æ˜¯å¦ä»¥å½“å‰æ‰€æ˜¾ç¤ºçš„æ–‡å­—ä¸­è·å¾—çš„æœ€å¤§é•¿å®½ï¼ˆè€Œä¸æ˜¯å­—ä½“çš„é•¿å®½ï¼‰è¿›è¡Œå¯¹é½ã€‚
|Horizontal Overflow|æ–‡å­—æ¨ªå‘æº¢å‡ºå¤„ç†æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©Warpéšè—æˆ–è€…Overflowæº¢å‡º
|Vertical Overflow|æ–‡æœ¬çºµå‘æº¢å‡ºçš„å¤„ç†æ–¹å¼ï¼Œå¯ä»¥é€‰æ‹©Truncateæˆªæ–­æˆ–è€…Overflowæº¢å‡º
|Best Fit|å¿½ç•¥Font Sizeè®¾ç½®çš„æ–‡å­—å¤§å°ï¼Œè‡ªé€‚åº”æ”¹å˜æ–‡å­—å¤§å°ä»¥é€‚åº”æ–‡æœ¬æ¡†çš„å¤§å°
|Color|æ–‡æœ¬çš„é¢œè‰²
|Material|ç”¨æ¥æ¸²æŸ“æ–‡æœ¬çš„æè´¨ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®æè´¨ï¼Œè®©æ–‡æœ¬æ‹¥æœ‰æ›´åŠ ç‚«é…·çš„æ•ˆæœã€‚
|Raycast Target|æ˜¯å¦å¯ä»¥è¢«å°„çº¿æ£€æµ‹ï¼Œé€šå¸¸æƒ…å†µä¸‹å¯ä»¥å…³é—­ï¼Œå› ä¸ºæ–‡æœ¬æœ€å¥½åªç”¨æ¥æ˜¾ç¤ºã€‚
|Raycast Padding|å°„çº¿æŠ•å°„å¡«å……ã€‚
|Maskable|æ˜¯å¦å¯ä»¥é®ç›–ã€‚

æ–‡æœ¬æ§ä»¶æä¾›å­—ä½“å¤§å°ã€æ ·å¼ä»¥åŠæ–‡æœ¬å¯¹é½æ–¹å¼ç­‰å¸¸ç”¨å‚æ•°ã€‚å¯ç”¨ Rich Text é€‰é¡¹åï¼Œæ–‡æœ¬ä¸­çš„æ ‡è®°å…ƒç´ å°†è§†ä¸ºæ ·å¼ä¿¡æ¯ï¼Œå› æ­¤å¯ä»…è®©å•ä¸ªå•è¯æˆ–çŸ­æ®µä½¿ç”¨ç²—ä½“æˆ–ä¸åŒé¢œè‰²ç­‰ã€‚

### ä¸‰ã€ä»£ç æ“ä½œç»„ä»¶

```
using UnityEngine;
using UnityEngine.UI;

public class UGUI_Text : MonoBehaviour
{<!-- -->
    private Text m_Text;
    private void Awake()
    {<!-- -->
        m_Text = transform.GetComponent&lt;Text&gt;();
        SetTextStyle();
    }

    public void SetTextStyle()
    {<!-- -->
        m_Text.text = "Xiao Y";

        #region ------ ã€Charaterã€‘ ------
        //å­—ä½“å¤§å°
        m_Text.fontSize = 15;
        //æ–‡å­—æ ¼å¼æ­£å¸¸,æ–œä½“,ç²—æ–œ,åŠ ç²—
        m_Text.fontStyle = FontStyle.Normal;//.Italic.BoldAndItalic.Bold;
        //è¡Œé—´è·
        m_Text.lineSpacing = 1.2f;
        //æ˜¯å¦æ”¯æŒå¯Œæ–‡æœ¬
        m_Text.supportRichText = true;
        #endregion

        #region ------ ã€Prargraphã€‘ ------
        //å¯¹é½æ–¹å¼ å„ç§TextAnchoræšä¸¾å¯¹é½
        m_Text.alignment = TextAnchor.LowerCenter;
        //ä½¿ç”¨å­—å½¢å‡ ä½•èŒƒå›´æ¥æ‰§è¡Œæ°´å¹³å¯¹é½ï¼Œè€Œä¸æ˜¯ä½¿ç”¨éŸ³è´¨åº¦é‡ã€‚
        m_Text.alignByGeometry = false;

        //æ°´å¹³ç«–ç›´æ¨¡å¼ ==ã€‹ Overflow:æº¢å‡ºæ¨¡å¼ã€ä¸è€ƒè™‘æ–‡æœ¬çš„widthæˆ–è€…heightçš„é™åˆ¶,æ˜¾ç¤ºå…¨éƒ¨æ–‡æœ¬å†…å®¹ã€‘
        //Wrap æˆ–è€… Truncate åœ¨æ–‡æœ¬widthæˆ–è€…heightåŒºåŸŸå†…æ˜¾ç¤º,è¶…å‡ºéƒ¨åˆ†è¢«éšè—ã€åŒ…æ‹¬å­—ä½“å¤§å°è¶…å‡ºã€‘
        m_Text.horizontalOverflow = HorizontalWrapMode.Overflow;
        m_Text.verticalOverflow = VerticalWrapMode.Truncate;

        //åº”è¯¥å…è®¸æ–‡æœ¬è‡ªåŠ¨è°ƒæ•´å¤§å°ã€‚
        m_Text.resizeTextForBestFit = true;
        //è®¾ç½® BestFit ä¸ºTrueå
        //å½“å‰æ–‡æœ¬åŒºåŸŸæ˜¾ç¤ºä¸å¼€åï¼Œå†…å®¹ä¼šè‡ªåŠ¨ç¼©å°å­—å·;  ã€å¿½ç•¥åŸå­—ä½“å¤§å°ã€‘
        m_Text.resizeTextMinSize = 15;
        m_Text.resizeTextMaxSize = 30;
        #endregion

        //æ–‡æœ¬é¢œè‰² ã€æœ‰æ¸å˜è‰²æ—¶,æ­¤å±æ€§ä¸èµ·ä½œç”¨ã€‘
        m_Text.color = new Color32(0, 0, 0, 0);

        //æ–‡æœ¬æè´¨ path:æ˜¯Resourcesä¸‹é¢æè´¨ç›®å½•
        m_Text.material = Resources.Load("path", typeof(Material)) as Material;

        //æ˜¯å¦è¿›è¡Œå°„çº¿æ£€æµ‹
        m_Text.raycastTarget = false;
    }
}

```

### å››ã€ç»„ä»¶å¸¸ç”¨æ–¹æ³•ç¤ºä¾‹

#### 4.1 æ”¹å˜Textæ–‡æœ¬é¢œè‰²

æ–¹æ³•ä¸€ï¼šé€šè¿‡ä»£ç ä¿®æ”¹å­—ä½“é¢œè‰²

```
using UnityEngine;
using UnityEngine.UI;

public class UGUI_Text : MonoBehaviour
{<!-- -->
    private Text m_Text;

    void Start()
    {<!-- -->
        m_Text = transform.GetComponent&lt;Text&gt;();
        m_Text.color = new Color(0 / 255f, 0 / 255f, 255 / 255f, 255 / 255f);
    }
}

```

è¿™ç§æ–¹æ³•æ˜¯ç›´æ¥ç»™Textç»„ä»¶çš„Colorå±æ€§èµ‹å€¼å³å¯ã€‚ <img src="https://img-blog.csdnimg.cn/1bce27777d474b17822a67b376af2912.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> æ–¹æ³•äºŒï¼šé€šè¿‡æ ‡ç­¾ä»£ç ä¿®æ”¹å­—ä½“é¢œè‰²

```
&lt;color=red&gt;Xiao Y&lt;/color&gt;

```

<img src="https://img-blog.csdnimg.cn/46e3ef62cc55429f80b1ab81eb0254c2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> å‰ææ˜¯æ‰“å¼€äº†å¯Œæ–‡æœ¬é€‰é¡¹ï¼Œå¦åˆ™ä¸ä¼šå˜è‰²ã€‚ <img src="https://img-blog.csdnimg.cn/a0f68f91ca444673a30a570058b68dcf.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

#### 4.2 æ–‡æœ¬æ¢è¡Œé—®é¢˜

åœ¨ä»£ç ä¸­ä½¿Textç»„ä»¶ä¸­çš„å†…å®¹æ¢è¡Œæ—¶ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¢è¡Œç¬¦`\n`æ¥æ‰§è¡Œ

```
using UnityEngine;
using UnityEngine.UI;

public class UGUI_Text : MonoBehaviour
{<!-- -->
    private Text m_Text;

    void Start()
    {<!-- -->
        m_Text = transform.GetComponent&lt;Text&gt;();
        m_Text.text = "&lt;color=red&gt;Unity&lt;/color&gt;\n&lt;color=green&gt;å°Y&lt;/color&gt;";
    }
}

```

æ•ˆæœï¼š <img src="https://img-blog.csdnimg.cn/b09605ecaff04323a3c6bed0144b519d.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

ä½†æ˜¯ç›´æ¥åœ¨Editorçš„Textæ–‡æœ¬æ¡†ä¸­è¾“å…¥\nåˆ™æ˜¯ä¸å¯ä»¥çš„ã€‚ <img src="https://img-blog.csdnimg.cn/57a37e7b4be64545948941547003ce16.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> è¿™æ—¶å€™éœ€è¦ä½¿ç”¨ä»£ç è¿›è¡Œä¿®å¤ï¼Œä½¿ç”¨Replaceæ–¹æ³•è¿›è¡Œæ›¿æ¢ï¼Œè¿™æ ·åœ¨Textæ–‡æœ¬æ¡†å†…çš„\nå°±ä¼šæ‰§è¡Œæ¢è¡ŒåŠŸèƒ½äº†ã€‚

```
using UnityEngine;
using UnityEngine.UI;

public class UGUI_Text : MonoBehaviour
{<!-- -->
    private Text m_Text;

    void Start()
    {<!-- -->
        m_Text = transform.GetComponent&lt;Text&gt;();
        m_Text.text = m_Text.text.Replace("\\n", "\n");
    }
}

```

ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ä»‹ç»å†…å®¹æ¢è¡Œé—®é¢˜ï¼Œæœ‰éœ€è¦çš„ä¹Ÿå¯ä»¥å‚è€ƒï¼š 

#### 4.3 ç©ºæ ¼è‡ªåŠ¨æ¢è¡Œé—®é¢˜

åœ¨Textæ–‡æœ¬æ¡†è¾“å…¥ç©ºæ ¼æ—¶ï¼Œåé¢çš„å†…å®¹è‹¥æ˜¯åœ¨æœ¬è¡Œä¸­æ˜¾ç¤ºä¸å¼€æ—¶ï¼Œå°±ä¼šé»˜è®¤è‡ªåŠ¨ç»™æˆ‘ä»¬æ¢è¡Œæ˜¾ç¤ºã€‚

å¦‚ä¸‹æ‰€ç¤ºï¼š <img src="https://img-blog.csdnimg.cn/c1985daa8c2d49d39ea2002cbb907aa5.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

ä½†è¿™æœ‰æ—¶å€™å¹¶ä¸æ˜¯æˆ‘ä»¬çš„æœ¬æ„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ä»£ç è¿›è¡Œå¤„ç†ã€‚

```
using UnityEngine;
using UnityEngine.UI;

public class UGUI_Text : MonoBehaviour
{<!-- -->
    private Text m_Text;

    void Start()
    {<!-- -->
        m_Text = transform.GetComponent&lt;Text&gt;();
        m_Text.text = m_Text.text.Replace(" ", "\u3000");
    }
}

```

ä»£ç å¤„ç†åæ•ˆæœï¼š <img src="https://img-blog.csdnimg.cn/3452c78c96c945ef94113a26d73d6eeb.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> ä¸ä¸Šé¢çš„æ¢è¡Œç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä½¿ç”¨Replaceæ–¹æ³•è¿›è¡Œæ›¿æ¢ï¼Œå°†ç©ºæ ¼æ›¿æ¢ä¸º"\u3000"å­—ç¬¦å°±å¯ä»¥äº†ã€‚

#### 4.4 é€å­—æ˜¾ç¤ºæ•ˆæœ

**æ–¹æ³•ä¸€**ï¼šåœ¨Unityä¸­ä½¿ç”¨ä»£ç å®ç°

```
using System.Collections;
using UnityEngine;
using UnityEngine.Events;
using UnityEngine.UI;

public class UGUI_Text : MonoBehaviour
{<!-- -->
    public uint m_TextIndent;       //é¦–è¡Œç¼©è¿›--å­—ç¬¦æ•°
    [TextArea(4, 10)]
    public string m_Text;           //æ˜¾ç¤ºçš„æ–‡æœ¬å†…å®¹
    public bool m_Enable;           //æ˜¯å¦åœ¨OnEnableä¸­åˆå§‹åŒ–Play
    private Text m_Conetnt;         //ç”¨äºæ˜¾ç¤ºçš„æ–‡æœ¬
    [Header("å­—/æ¯ç§’")]
    public float m_ShowSpeed = 1;   //åŠ¨æ€æ–‡å­—çš„é€Ÿåº¦
                                    //ä¸æ–‡å­—æ’­æ”¾åŒæ—¶æ’­æ”¾çš„éŸ³é¢‘
    public AudioClip m_AudioClip;
    //æ–‡å­—æ’­å®Œå›è°ƒ
    public CallBack m_CallBack = new CallBack();

    public ScrollRect m_ScrollRect;


    private char[] m_Text_Char;
    private bool suspend = false;
    private AudioSource m_AudioSource;


    private void Awake()
    {<!-- -->
        m_Conetnt = this.GetComponent&lt;Text&gt;();
    }
    private void OnEnable()
    {<!-- -->
        if (m_Enable)
            Play();
    }
    /// &lt;summary&gt;
    /// é‡æ–°æ’­æ”¾
    /// &lt;/summary&gt;
    public void Play()
    {<!-- -->
        suspend = false;
        //\u3000ä¸ºä¸­æ–‡ç©ºæ ¼è‹±æ–‡ç©ºæ ¼ä¼šå¼•èµ·unityä¸­Textçš„è‡ªåŠ¨æ¢è¡Œå› æ­¤å°†å†…å®¹ä¸­çš„è‹±æ–‡ç©ºæ ¼æ¢æˆä¸­æ–‡ç©ºæ ¼
        string str = m_Text.Replace(" ", "\u3000");
        string LineHead = "";
        //è®¾ç½®æ®µè½çš„é¦–è¡Œç¼©è¿›çš„å­—ç¬¦æ•°
        if (m_TextIndent != 0)
        {<!-- -->
            for (int i = 0; i &lt; m_TextIndent; i++)
            {<!-- -->
                LineHead += "\u3000";
            }
            str = str.Replace("\n", "\n" + LineHead);
            str = LineHead + str;
        }
        //å°†è½¬æ¢å¥½çš„æ–‡æœ¬è½¬æ¢æˆCharæ•°ç»„ä»¥ä¾¿äºé€å­—è¯»å†™
        m_Text_Char = str.ToCharArray();
        //å½“éŸ³é¢‘ä¸ä¸ºç©ºæ—¶ï¼Œå¤„ç†éŸ³é¢‘çš„æ’­æ”¾
        if (m_AudioClip != null)
        {<!-- -->
            if (m_AudioSource == null)
                m_AudioSource = this.GetComponent&lt;AudioSource&gt;();
            if (m_AudioSource == null)
                m_AudioSource = this.gameObject.AddComponent&lt;AudioSource&gt;();
            m_AudioSource.clip = m_AudioClip;
            //è¯»å†™é€Ÿåº¦æ ¹æ®éŸ³é¢‘é•¿åº¦å¹³å‡è®¡ç®—
            m_ShowSpeed = str.Length / m_AudioClip.length;
        }
        StartCoroutine("Player");
    }
    /// &lt;summary&gt;
    /// æ’­æ”¾æ— è¯­éŸ³
    /// &lt;/summary&gt;
    /// &lt;param name="varCentent"&gt;æ’­æ”¾çš„å†…å®¹&lt;/param&gt;
    public void Play(string varCentent)
    {<!-- -->
        m_Text = varCentent;
        m_AudioClip = null;
        Play();
    }
    /// &lt;summary&gt;
    /// æ’­æ”¾æœ‰è¯­éŸ³
    /// &lt;/summary&gt;
    /// &lt;param name="varCentent"&gt;æ’­æ”¾çš„å†…å®¹&lt;/param&gt;
    /// &lt;param name="audio"&gt;è·Ÿè¸ªçš„è¯­è¨€&lt;/param&gt;
    public void Play(string varCentent, AudioClip audio)
    {<!-- -->
        m_Text = varCentent;
        m_AudioClip = audio;

        Play();
    }

    /// &lt;summary&gt;
    /// æš‚åœæ’­æ”¾
    /// &lt;/summary&gt;
    public void Pause()
    {<!-- -->
        suspend = true;
    }
    /// &lt;summary&gt;
    /// æ¢å¤æ’­æ”¾
    /// &lt;/summary&gt;
    public void Recovery()
    {<!-- -->
        suspend = false;
    }

    /// &lt;summary&gt;
    /// åœæ­¢æ’­æ”¾ï¼ˆæ— æ³•ç»§ç»­ï¼‰
    /// &lt;/summary&gt;
    public void Stop()
    {<!-- -->
        StopCoroutine("Player");
    }


    IEnumerator Player()
    {<!-- -->
        float idx = 0;
        m_Conetnt.text = "";
        yield return 0;
        if (m_AudioSource != null)
            m_AudioSource.Play();
        RectTransform TempCententRect = null;
        RectTransform TempScrollRect = null;
        if (m_ScrollRect != null)
        {<!-- -->
            TempCententRect = m_ScrollRect.content.GetComponent&lt;RectTransform&gt;();
            TempScrollRect = m_ScrollRect.GetComponent&lt;RectTransform&gt;();
        }
        while (idx &lt;= m_Text_Char.Length)
        {<!-- -->
            //æš‚åœå¤„ç†
            if (suspend)
            {<!-- -->
                yield return new WaitForFixedUpdate();
                continue;
            }
            float TempTimes = Time.fixedDeltaTime;
            float currfont = TempTimes * m_ShowSpeed;
            //æ›´æ–°åº”æ˜¾ç¤ºçš„å­—çš„æ•°é‡
            idx += currfont;
            string currcentent = "";
            //è·å–æ˜¾ç¤ºçš„å­—çš„å†…å®¹
            for (int i = 0; i &lt; m_Text_Char.Length; i++)
            {<!-- -->
                if (i &lt;= idx)
                    currcentent += m_Text_Char[i];
                //è¿‡æ»¤æ¢è¡Œå­—ç¬¦
                else if (m_Text_Char[i] == '\n')
                    idx += 1;
                //è¿‡æ»¤ç©ºæ ¼
                else if (m_Text_Char[i] == ' ' || m_Text_Char[i] == '\u3000')
                    idx += 1;
                else
                    break;
            }
            m_Conetnt.text = currcentent;
            //å½“æœ‰ScrollRectæ—¶è®©æ–‡å­—å§‹ç»ˆæ˜¾ç¤ºåˆ·æ–°æ–‡å­—çš„åœ°æ–¹
            if (m_ScrollRect != null)
            {<!-- -->
                //æ›´æ–°æ»‘åŠ¨åŒºåŸŸå¤§å°ä½¿ä¹‹ä¸æ–‡æœ¬æ¡†å¤§å°ç›¸åŒï¼ˆä»…é«˜åº¦ç›¸åŒï¼‰
                TempCententRect.sizeDelta = new Vector2(TempCententRect.sizeDelta.x, m_Conetnt.preferredHeight);
                //å½“æ»‘åŠ¨é«˜åº¦å¤§äºScrollRectçš„æ˜¾ç¤ºé«˜åº¦æ—¶ä¿è¯æ»‘åŠ¨åŒºåŸŸå§‹ç»ˆåœ¨æœ€ä¸‹æ–¹
                if (TempCententRect.sizeDelta.y &gt; TempScrollRect.sizeDelta.y)
                {<!-- -->
                    if (m_ScrollRect.verticalScrollbar != null)
                        m_ScrollRect.verticalScrollbar.value = 0;
                }
            }
            //ä¸FixedUpdateåŒæ­¥é¿å…ç¨‹åºå¡æ­»
            yield return new WaitForFixedUpdate();
        }
        //å½“éŸ³é¢‘ä¸ä¸ºç©ºæ—¶å¤„ç†éŸ³é¢‘
        if (m_AudioSource != null)
        {<!-- -->
            //å½“éŸ³é¢‘æœªæ’­æ”¾å®Œæˆæ—¶ä¸ç»“æŸè¿›ç¨‹
            while (m_AudioSource.isPlaying)
            {<!-- -->
                //ä¸FixedUpdateåŒæ­¥é¿å…ç¨‹åºå¡æ­»
                yield return new WaitForFixedUpdate();
            }
        }
        //éŸ³é¢‘æ’­æ”¾å®Œæˆæ¸…ç†éŸ³é¢‘ä¿¡æ¯
        if (m_AudioSource != null)
            Destroy(m_AudioSource);
        //ç­‰å¾…ä¸€å¸§ä»¥ä¾¿ä»¥ä¸Šä¿¡æ¯è¿è¡Œå®Œæˆ
        yield return 0;
        m_AudioSource = null;
        //æ‰§è¡Œæ’­æ”¾å®Œæˆå›è°ƒ
        m_CallBack.Invoke();
    }
    public class CallBack : UnityEvent
    {<!-- -->
        public CallBack()
        {<!-- -->
        }
    }
}

```

<img src="https://img-blog.csdnimg.cn/9f594870e1884998a51cfb3d50ce74aa.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> <img src="https://img-blog.csdnimg.cn/b8eac7453acf442681fd09a3bb42e709.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"> æ­¤æ–¹æ³•å‚è€ƒï¼š

**æ–¹æ³•äºŒ**ï¼šä½¿ç”¨ `DOTweenæ’ä»¶`å®ç°

ä½¿ç”¨ DOTween ä¸­çš„æ–¹æ³• DOText() å¯ä»¥å®ç°é€å­—æ˜¾ç¤ºæ•ˆæœã€‚

```
using UnityEngine;
using UnityEngine.UI;
using DG.Tweening;

public class UGUI_Text : MonoBehaviour {<!-- -->

	private Text m_Text;
	void Start () {<!-- -->
		//è·å–Textç»„ä»¶
		m_Text= this.GetComponent&lt;Text&gt;();
		//æ‚¨è¦æ˜¾ç¤ºæ–‡æœ¬å†…å®¹
		string temp_content = "å°Y æµ‹è¯•Textæ–‡æœ¬æ¡†é€å­—æ˜¾ç¤ºæ•ˆæœã€‚";
		
		m_Text.DOText(temp_content, 6);

		//å¸¦å›è°ƒçš„æ–¹å¼
		//m_Text.DOText(temp_content, 6).OnComplete(()=&gt; {<!-- -->
		//	Debug.Log("é€å­—æ˜¾ç¤ºå®Œæˆçš„å›è°ƒ");
		//});

		//æ·»åŠ Easeæšä¸¾ä¸­è®¾å®šçš„ç¼“åŠ¨åŠ¨ç”»
		//m_Text.DOText(temp_content, 6).SetEase(Ease.InBack).OnComplete(() =&gt; {<!-- -->
		//	Debug.Log("é€å­—æ˜¾ç¤ºå®Œæˆçš„å›è°ƒ");
		//});
	}
}

```

<img src="https://img-blog.csdnimg.cn/e82efb51b1aa4575a30c172efdc40cc3.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

### äº”ã€ç»„ä»¶ç›¸å…³æ‰©å±•ä½¿ç”¨

#### 5.1 æ–‡æœ¬æè¾¹ç»„ä»¶ï¼ˆOutlineï¼‰

ä½¿ç”¨Outlineç»„ä»¶å¯ä»¥å®ç°æ–‡æœ¬å†…å®¹æè¾¹æ•ˆæœã€‚

<th align="left">å±æ€§</th><th align="left">åŠŸèƒ½</th>
|------
<td align="left">Effect Color</td><td align="left">è½®å»“çš„é¢œè‰²ã€‚</td>
<td align="left">Effect Distance</td><td align="left">è½®å»“æ•ˆæœåœ¨æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„è·ç¦»ã€‚</td>
<td align="left">Use Graphic Alpha</td><td align="left">å°†å›¾å½¢é¢œè‰²å åŠ åˆ°æ•ˆæœé¢œè‰²ä¸Šã€‚</td>

<img src="https://img-blog.csdnimg.cn/be4b4e852a474d37a3fd8a7aefdfc411.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

#### 5.2 é˜´å½±ç»„ä»¶ï¼ˆShadowï¼‰

ä½¿ç”¨Shadowç»„ä»¶å¯ä»¥å®ç°æ–‡æœ¬å†…é˜´å½±æ•ˆæœã€‚

<th align="left">å±æ€§</th><th align="left">åŠŸèƒ½</th>
|------
<td align="left">Effect Color</td><td align="left">é˜´å½±çš„é¢œè‰²ã€‚ã€‚</td>
<td align="left">Effect Distance</td><td align="left">é˜´å½±çš„åç§»ï¼ˆè¡¨ç¤ºä¸ºçŸ¢é‡ï¼‰ã€‚</td>
<td align="left">Use Graphic Alpha</td><td align="left">å°†å›¾å½¢é¢œè‰²å åŠ åˆ°æ•ˆæœé¢œè‰²ä¸Šã€‚</td>

<img src="https://img-blog.csdnimg.cn/b6808640f90d4e3d850e4ddebd9a8f46.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

#### 5.3 æ¸å˜è‰²æ•ˆæœ

<th align="left">å±æ€§</th><th align="left">åŠŸèƒ½</th>
|------
<td align="left">Top Color</td><td align="left">é¡¶éƒ¨æ¸å˜çš„é¢œè‰²ã€‚</td>
<td align="left">Bottom Color</td><td align="left">åº•éƒ¨æ¸å˜çš„é¢œè‰²ã€‚</td>
<td align="left">Use Graphic Alpha</td><td align="left">å°†å›¾å½¢é¢œè‰²å åŠ åˆ°æ•ˆæœé¢œè‰²ä¸Šã€‚</td>

<img src="https://img-blog.csdnimg.cn/19d5e8515b2b4427a60ee23bbd23b322.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

æ¸å˜è„šæœ¬FontGradient ä»£ç å¦‚ä¸‹ï¼š

```
using UnityEngine;
using System.Collections;
using System.Collections.Generic;
using UnityEngine.UI;
using System;

/// &lt;summary&gt;
/// æ¸å˜å­—ä½“
/// &lt;/summary&gt;
[AddComponentMenu("UI/Effects/Gradient")]
public class FontGradient : BaseMeshEffect
{<!-- -->
    public Color32 topColor = Color.white;
    public Color32 bottomColor = Color.black;
    public bool useGraphicAlpha = true;
    public override void ModifyMesh(VertexHelper vh)
    {<!-- -->
        if (!IsActive())
        {<!-- -->
            return;
        }

        var count = vh.currentVertCount;
        if (count == 0)
            return;

        var vertexs = new List&lt;UIVertex&gt;();
        for (var i = 0; i &lt; count; i++)
        {<!-- -->
            var vertex = new UIVertex();
            vh.PopulateUIVertex(ref vertex, i);
            vertexs.Add(vertex);
        }

        var topY = vertexs[0].position.y;
        var bottomY = vertexs[0].position.y;


        for (var i = 1; i &lt; count; i++)
        {<!-- -->
            var y = vertexs[i].position.y;
            if (y &gt; topY)
            {<!-- -->
                topY = y;
            }
            else if (y &lt; bottomY)
            {<!-- -->
                bottomY = y;
            }

        }

        var height = topY - bottomY;
        for (var i = 0; i &lt; count; i++)
        {<!-- -->
            var vertex = vertexs[i];

            var color = Color32.Lerp(bottomColor, topColor, (vertex.position.y - bottomY) / height);

            vertex.color = color;

            vh.SetUIVertex(vertex, i);
        }
    }
}

```

ä¸Šè¿°å‡ ç§æ•ˆæœå¯ä»¥å åŠ ä½¿ç”¨ï¼Œå…·ä½“æ•ˆæœå¯è‡ªè¡Œå°è¯•ã€‚

#### 5.4 Textä¸‹åˆ’çº¿æ•ˆæœ

<img src="https://img-blog.csdnimg.cn/4f3b23112e1b4426b1210da9a47b9e01.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">

ä¸‹åˆ’çº¿è„šæœ¬MultipleLinkButton ä»£ç å¦‚ä¸‹ï¼š

```
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.EventSystems;
using UnityEngine.UI;

class UnderlineProperty
{<!-- -->
    public Color _color;
    public Vector3 _position;
    public float _width;
    public float _height;
    public Vector2 _privot;
}

public class MultipleLinkButton : MonoBehaviour, IPointerDownHandler, IPointerUpHandler
{<!-- -->
    private Text _text;
    private int _curCharacterCount = 0;
    private List&lt;Image&gt; _lines = new List&lt;Image&gt;();
    private System.Action _clickEvent = null; //ä¸‹åˆ’çº¿ç‚¹å‡»äº‹ä»¶
    private bool _isInitUnderline = false;

    public System.Action ClickEvent
    {<!-- -->
        get
        {<!-- -->
            return _clickEvent;
        }

        set
        {<!-- -->
            _clickEvent = value;
        }
    }

    // Use this for initialization
    void Start()
    {<!-- -->
        _text = transform.GetComponent&lt;Text&gt;();
        _text.gameObject.AddComponent&lt;Button&gt;().onClick.AddListener(() =&gt; {<!-- -->
            if (ClickEvent != null)
                ClickEvent();
        });
    }

    void Update()
    {<!-- -->
        //åšåˆå§‹åŒ–
        if (_text.cachedTextGenerator.lineCount &gt; 0 &amp;&amp; !_isInitUnderline)
        {<!-- -->
            _isInitUnderline = true;
            _curCharacterCount = _text.cachedTextGenerator.characterCount;
            List&lt;UnderlineProperty&gt; list = GetUnderlinePropertys();
            CreateUnderLines(list);
        }

        //åˆ·æ–°
        if (_isInitUnderline &amp;&amp; _curCharacterCount != _text.cachedTextGenerator.characterCount)
        {<!-- -->
            _curCharacterCount = _text.cachedTextGenerator.characterCount;
            List&lt;UnderlineProperty&gt; list = GetUnderlinePropertys();
            CreateUnderLines(list);
        }
    }

    List&lt;UnderlineProperty&gt; GetUnderlinePropertys()
    {<!-- -->
        List&lt;UnderlineProperty&gt; list = new List&lt;UnderlineProperty&gt;();
        for (int i = 0; i &lt; _text.cachedTextGenerator.lineCount; i++)
        {<!-- -->
            var curPos = _text.cachedTextGenerator.characters[_text.cachedTextGenerator.lines[i].startCharIdx].cursorPos;
            UnderlineProperty property = new UnderlineProperty
            {<!-- -->
                _color = _text.color,
                _height = _text.fontSize / 10 == 0 ? 1 : _text.fontSize / 10,
                _width = GetWidth(_text.cachedTextGenerator.lines[i].startCharIdx, _text.cachedTextGenerator.characters),
                _position = new Vector3(curPos.x, curPos.y - _text.cachedTextGenerator.lines[i].height, 0),
                _privot = GetTextAnchorPivot(_text.alignment)
            };

            list.Add(property);
        }

        return list;
    }

    float GetWidth(int idx, IList&lt;UICharInfo&gt; info)
    {<!-- -->
        float width = 0;
        float start = info[idx].cursorPos.x;
        for (int i = idx; i &lt; info.Count - 1; i++)
        {<!-- -->
            if (info[i].cursorPos.x &gt; info[i + 1].cursorPos.x)
            {<!-- -->
                width = info[i].cursorPos.x - start;
                break;
            }

            if (info.Count - 1 == i + 1)
                width = info[i + 1].cursorPos.x - start;
        }
        return width;
    }

    Vector2 GetTextAnchorPivot(TextAnchor anchor)
    {<!-- -->
        switch (anchor)
        {<!-- -->
            case TextAnchor.LowerLeft: return new Vector2(0, 0);
            case TextAnchor.LowerCenter: return new Vector2(0.5f, 0);
            case TextAnchor.LowerRight: return new Vector2(1, 0);
            case TextAnchor.MiddleLeft: return new Vector2(0, 0.5f);
            case TextAnchor.MiddleCenter: return new Vector2(0.5f, 0.5f);
            case TextAnchor.MiddleRight: return new Vector2(1, 0.5f);
            case TextAnchor.UpperLeft: return new Vector2(0, 1);
            case TextAnchor.UpperCenter: return new Vector2(0.5f, 1);
            case TextAnchor.UpperRight: return new Vector2(1, 1);
            default: return Vector2.zero;
        }
    }

    void CreateUnderLines(List&lt;UnderlineProperty&gt; list)
    {<!-- -->
        for (int i = 0; i &lt; transform.childCount; i++)
            Destroy(transform.GetChild(i).gameObject);
        _lines.Clear();

        for (int i = 0; i &lt; list.Count; i++)
        {<!-- -->
            //åˆå§‹åŒ–
            GameObject obj = new GameObject();
            obj.transform.SetParent(transform, false);
            obj.name = "underline" + i;
            _lines.Add(obj.AddComponent&lt;Image&gt;());
            _lines[i].rectTransform.pivot = list[i]._privot;

            //é¢œè‰²å’Œå¤§å°
            var tex = new Texture2D((int)list[i]._width, (int)list[i]._height, TextureFormat.ARGB32, false);
            Color[] colors = tex.GetPixels();
            for (int j = 0; j &lt; colors.Length; j++)
                colors[j] = list[i]._color;
            tex.SetPixels(colors);
            tex.Apply();
            _lines[i].sprite = Sprite.Create(tex, new Rect(0, 0, tex.width, tex.height), Vector2.zero);
            _lines[i].SetNativeSize();
            _lines[i].rectTransform.sizeDelta = new Vector2(_lines[i].rectTransform.sizeDelta.x, _lines[i].rectTransform.sizeDelta.y);

            //åæ ‡
            float x = list[i]._position.x;
            if (_text.alignment == TextAnchor.MiddleCenter || _text.alignment == TextAnchor.UpperCenter || _text.alignment == TextAnchor.LowerCenter)
                x = 0;
            if (_text.alignment == TextAnchor.MiddleRight || _text.alignment == TextAnchor.UpperRight || _text.alignment == TextAnchor.LowerRight)
                x += list[i]._width;
            _lines[i].rectTransform.anchoredPosition = new Vector2(x, list[i]._position.y);
        }
    }

    /*å®ç°ä¸‹åˆ’çº¿åŒæ­¥ç‚¹å‡»æ•ˆæœ*/
    public void OnPointerDown(PointerEventData eventData)
    {<!-- -->
        for (int i = 0; i &lt; _lines.Count; i++)
        {<!-- -->
            Color[] colors = _lines[i].sprite.texture.GetPixels();
            for (int j = 0; j &lt; colors.Length; j++)
                colors[j] = new Color(colors[j].r, colors[j].g, colors[j].b, colors[j].a * 0.70f);
            _lines[i].sprite.texture.SetPixels(colors);
            _lines[i].sprite.texture.Apply();
        }
    }

    public void OnPointerUp(PointerEventData eventData)
    {<!-- -->
        for (int i = 0; i &lt; _lines.Count; i++)
        {<!-- -->
            Color[] colors = _lines[i].sprite.texture.GetPixels();
            for (int j = 0; j &lt; colors.Length; j++)
                colors[j] = new Color(colors[j].r, colors[j].g, colors[j].b, colors[j].a / 0.70f);
            _lines[i].sprite.texture.SetPixels(colors);
            _lines[i].sprite.texture.Apply();
        }
    }
}

```

æ­¤å¤„å‚è€ƒæ–‡ç« ï¼š

## ğŸ’¯æ€»ç»“

å…³äº `UGUI-Text` ç»„ä»¶çš„å­¦ä¹ æ•™ç¨‹å°±åˆ°è¿™é‡Œå•¦ï¼Œè‹¥æ˜¯æœ‰å…³äºæ­¤ç»„ä»¶æœ‰ä»€ä¹ˆä¸æ˜ç™½çš„ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºæå‡ºä¸€èµ·è®¨è®ºå“¦ã€‚
- æœ¬ç³»åˆ—æ–‡ç« ç›®å½•å¦‚ä¸‹ï¼š- - - - - - - - - - - ã€- - 
ç³»åˆ—å†…å®¹ä½¿ç”¨çš„Unityç‰ˆæœ¬çš†ä¸º Unity 2020 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œç»„ä»¶çš„å„é¡¹å‚æ•°å¯èƒ½åœ¨ä¸åŒç‰ˆæœ¬ä¹‹ä¸‹ç•¥æœ‰ä¸åŒï¼Œä¸è¿‡ä¸ä¼šå½±å“æˆ‘ä»¬ä½¿ç”¨åŠæ•™ç¨‹çš„ä»‹ç»ï¼Œè¯·æ”¾å¿ƒé£Ÿç”¨(æ•æ„Ÿè‚Œä¹Ÿå¯ä»¥ä½¿ç”¨å“¦ğŸ˜)ï¼

<img src="https://img-blog.csdnimg.cn/20210613033645219.gif#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
