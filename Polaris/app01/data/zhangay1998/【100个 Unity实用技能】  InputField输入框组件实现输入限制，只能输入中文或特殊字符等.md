
--- 
title:  ã€100ä¸ª Unityå®ç”¨æŠ€èƒ½ã€‘ | InputFieldè¾“å…¥æ¡†ç»„ä»¶å®ç°è¾“å…¥é™åˆ¶ï¼Œåªèƒ½è¾“å…¥ä¸­æ–‡æˆ–ç‰¹æ®Šå­—ç¬¦ç­‰ 
tags: []
categories: [] 

---
<img src="https://img-blog.csdnimg.cn/4ea0ad75b9c145e5ba7d219b7e425099.png" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

>  
 -  ğŸ¬ åšå®¢ä¸»é¡µï¼š -  ğŸ¥ æœ¬æ–‡ç”± **å‘†å‘†æ•²ä»£ç çš„å°Y** åŸåˆ›ï¼Œé¦–å‘äº **CSDN**ğŸ™‰ -  ğŸ„ å­¦ä¹ ä¸“æ æ¨èï¼š -  ğŸŒ² æ¸¸æˆåˆ¶ä½œä¸“æ æ¨èï¼š -  ğŸŒ²Unityå®æˆ˜100ä¾‹ä¸“æ æ¨èï¼š -  ğŸ… æ¬¢è¿ç‚¹èµ ğŸ‘ æ”¶è— â­ç•™è¨€ ğŸ“ å¦‚æœ‰é”™è¯¯æ•¬è¯·æŒ‡æ­£ï¼ -  ğŸ“† æœªæ¥å¾ˆé•¿ï¼Œå€¼å¾—æˆ‘ä»¬å…¨åŠ›å¥”èµ´æ›´ç¾å¥½çš„ç”Ÿæ´»âœ¨ -  ------------------â¤ï¸åˆ†å‰²çº¿â¤ï¸-------------------------  


<img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

<img src="https://img-blog.csdnimg.cn/01e7ec91f0984ce4a166bf72cb52bea5.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

### <font color="#ff6984" size="5"> Unity </font>å°ç§‘æ™®

è€è§„çŸ©ï¼Œå…ˆä»‹ç»ä¸€ä¸‹<font color="#ff6984" size="4"> **Unity** </font>çš„ç§‘æ™®å°çŸ¥è¯†ï¼š<img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/fca9590298da4004906d83d81f4ca0e6.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">
- <font color="#ff6984" size="4">**Unity**</font>æ˜¯ å®æ—¶3Däº’åŠ¨å†…å®¹åˆ›ä½œå’Œè¿è¥å¹³å° ã€‚- åŒ…æ‹¬<font color="#green" size="4">æ¸¸æˆå¼€å‘</font>ã€<font color="#green" size="4">ç¾æœ¯</font>ã€<font color="#green" size="4">å»ºç­‘</font>ã€<font color="#green" size="4">æ±½è½¦è®¾è®¡</font>ã€<font color="#green" size="4">å½±è§†</font>åœ¨å†…çš„æ‰€æœ‰åˆ›ä½œè€…ï¼Œå€ŸåŠ©<font color="#ff6984" size="4"> **Unity** </font>å°†åˆ›æ„å˜æˆç°å®ã€‚- <font color="#ff6e84" size="4">**Unity**</font> å¹³å°æä¾›ä¸€æ•´å¥—å®Œå–„çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆï¼Œå¯ç”¨äºåˆ›ä½œã€è¿è¥å’Œå˜ç°ä»»ä½•å®æ—¶äº’åŠ¨çš„2Då’Œ3Då†…å®¹ï¼Œæ”¯æŒå¹³å°åŒ…æ‹¬<font color="#green" size="4">æ‰‹æœº</font>ã€<font color="#green" size="4">å¹³æ¿ç”µè„‘</font>ã€<font color="#green" size="4">PC</font>ã€<font color="#green" size="4">æ¸¸æˆä¸»æœº</font>ã€<font color="#green" size="4">å¢å¼ºç°å®</font>å’Œ<font color="#green" size="4">è™šæ‹Ÿç°å®è®¾å¤‡ã€‚ </font>- ä¹Ÿå¯ä»¥ç®€å•æŠŠ <font color="#ff6e84" size="4">**Unity**</font> ç†è§£ä¸ºä¸€ä¸ª<font color="#ee82ee" size="4">æ¸¸æˆå¼•æ“</font>ï¼Œå¯ä»¥ç”¨æ¥ä¸“ä¸šåˆ¶ä½œ<font color="#ee0000" size="4">æ¸¸æˆ</font>ï¼
### <font color="#ff6984" size="5"> Unity </font>å®ç”¨å°æŠ€èƒ½å­¦ä¹ 

#### InputFieldè¾“å…¥æ¡†ç»„ä»¶å®ç°è¾“å…¥é™åˆ¶ï¼Œåªèƒ½è¾“å…¥ä¸­æ–‡æˆ–ç‰¹æ®Šå­—ç¬¦ç­‰

åœ¨ä½¿ç”¨InputFieldçš„è¿‡ç¨‹ä¸­ï¼Œæœ‰äº›æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹ä¸€äº›è¾“å…¥å­—ç¬¦åšé™åˆ¶ã€‚ æ¯”å¦‚åªå…è®¸è¾“å…¥æ•´æ•°ï¼Œå­—æ¯æ•°å­—ï¼Œå…è®¸å­—æ¯å’Œæ•°å­—ä½†æ— æ³•è¾“å…¥ç¬¦å·ï¼Œåªèƒ½è¾“å…¥ä¸­æ–‡ç­‰è¾“å…¥é™åˆ¶ã€‚

è¿™ä¸ªä½¿ç”¨InputFieldç»„ä»¶è‡ªå¸¦çš„å±æ€§ContentTypeå¯ä»¥ç›´æ¥è§£å†³æ‰éƒ¨åˆ†é™åˆ¶ã€‚æ¯”å¦‚åªèƒ½è¾“å…¥æ•´æ•°åŠåªèƒ½è¾“å…¥å­—æ¯å’Œæ•°å­—ç­‰ï¼Œä½†æ˜¯æŸäº›ç‰¹æ®Šæ€§çš„é™åˆ¶å°±åªèƒ½é€šè¿‡æˆ‘ä»¬ä½¿ç”¨ä»£ç è¿›è¡Œç‰¹æ®Šé™åˆ¶äº†ã€‚

ä¸‹é¢æ¥ä»‹ç»**åªèƒ½è¾“å…¥ä¸­æ–‡çš„å…·ä½“æ–¹æ³•**ã€‚

é¦–å…ˆæ–°å»ºä¸€ä¸ªè„šæœ¬æŒ‚è½½åˆ°InputFieldç»„ä»¶çš„æ¸¸æˆå¯¹è±¡ä¸Š(æˆ–è€…å…¶ä»–åœºæ™¯ç‰©ä½“)ã€‚

**æ–¹æ³•ä¸€ï¼šonValidateInputï¼šè‡ªå®šä¹‰éªŒè¯å›è°ƒ** æ­¤æ–¹æ³•æ˜¯ä½¿ç”¨Unity InputFieldç»„ä»¶çš„å›è°ƒæ–¹æ³•å¯¹æ¯ä¸ªè¾“å…¥çš„å­—ç¬¦è¿›è¡Œå­—ç¬¦éªŒè¯ï¼Œç„¶åæˆ‘ä»¬å¯¹è¯¥å­—ç¬¦è¿›è¡Œç›¸å…³åˆ¤å®šå³å¯ã€‚

ä»£ç å¦‚ä¸‹ï¼š

```
using UnityEngine.UI;
using UnityEngine;

public class InputFieldTest : MonoBehaviour
{<!-- -->
    private InputField m_inputField;
    protected void Awake()
    {<!-- -->
        m_inputField= GetComponent&lt;InputField&gt;();
        m_inputField.onValidateInput = ValidateCallback;
    }

    private char ValidateCallback(string text, int charIndex, char ch)
    {<!-- -->
        //Debug.Log($"æµ‹è¯•è¯­è¨€ã€‚text:{text}, charIndex:{charIndex}, ch:{ch}");
        if (ch &gt;= 0x4e00 &amp;&amp; ch &lt;= 0x9fa5)//æ±‰å­—çš„èŒƒå›´
        {<!-- -->
            return ch;
        }
        else
        {<!-- -->
            return (char)0;
        }
    }
}

```

**æ–¹æ³•äºŒï¼šonValueChangedé…åˆRegexç±»**

æ­¤æ–¹æ³•ä½¿ç”¨äº†.Netçš„ ï¼Œéœ€è¦å¼•å…¥å‘½åç©ºé—´ `System.Text.RegularExpressions`ã€‚ ç„¶åä½¿ç”¨ `Regex.IsMatch()` è¿›è¡ŒåŒ¹é…é¡¹éªŒè¯ï¼Œæ¥ç­›é€‰æˆ‘ä»¬çš„å­—ç¬¦åšåˆ¤å®šã€‚

```
IsMatch(String) | æŒ‡ç¤º Regex æ„é€ å‡½æ•°ä¸­æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼åœ¨æŒ‡å®šçš„è¾“å…¥å­—ç¬¦ä¸²ä¸­æ˜¯å¦æ‰¾åˆ°äº†åŒ¹é…é¡¹ã€‚

```

ä»£ç å¦‚ä¸‹ï¼š

```
using UnityEngine.UI;
using UnityEngine;
using System.Text.RegularExpressions;

public class InputFieldTest : MonoBehaviour
{<!-- -->
    private InputField m_inputField;
    protected void Awake()
    {<!-- -->
        m_inputField= GetComponent&lt;InputField&gt;();
        m_inputField.onValueChanged.AddListener(OnInputFieldValueChang);
    }
    private void OnInputFieldValueChang(string inputInfo)
    {<!-- -->
        Regex reg = new Regex("^[\u4e00-\u9fa5]+$");
        if (reg.IsMatch(inputInfo))
        {<!-- -->
            m_inputField.text = inputInfo;
        }
        else
        {<!-- -->
            if (m_inputField.text == "")
            {<!-- -->
                m_inputField.text = "";
            }
            else
            {<!-- -->
                m_inputField.text = inputInfo.Substring(0, inputInfo.Length - 1);
            }
        }
    }
}

```

æ•ˆæœå¦‚ä¸‹ï¼š <img src="https://img-blog.csdnimg.cn/a27a603471c74d18817cc6e8efad1ab8.gif" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°">

è‹¥æ˜¯æƒ³è¦ä¸€äº›æŒ‡å®šçš„å…¶ä»–ç‰¹æ®Šè¾“å…¥é™åˆ¶ï¼Œåªéœ€è¦å˜æ¢ifä¸­çš„æ­£åˆ™è¡¨è¾¾å¼æ¡ä»¶å³å¯ã€‚

UGUIç»„ä»¶å­¦ä¹ æ–‡ç« ï¼š æ­£åˆ™è¡¨è¾¾å¼å‚è€ƒæ–‡ç« ï¼š

<img src="https://img-blog.csdnimg.cn/20210613033645219.gif#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">
