
--- 
title:  [Linux]日志检索,linux日志检索基础 
tags: []
categories: [] 

---
是时候复习一下日志的检索了。<s>人麻了，Linux</s> 

#### 目录
- <ul><li>- <ul><li>- - - <ul><li>- - - 


### 1、找到关键信息

#### 1.1列出我的日志文件

按照修改时间列出文件，最新的在列表最下面

```
ls -lrt

```

命令解释
- -l l 表示开启长列表输出，打开了就会输出文件权限、引用计数、所有者、所属组、文件大小、修改日期和文件名称这些详细的信息- -r r 表示输出倒序。ls -lrt 组合起来就是按修改时间倒序输出，最新修改的文件会被排在下面(没有加-r的时候是在排在上面)- -t t 这个选项表示按修改时间正序输出列表。最新的文件会排在上面
>  
 ls -l = ll 


#### 1.2关键词搜索文件

当**不知道关键词在当前路径的那个文件**时，可以使用

```
 cat -n  | grep -r 'xxx'

```
- grep -r -r 用于搜索当前目录下含有关键词的文件- cat -n cat 用于连接文件并打印到标准输出设备上 -n 显示行号
**明确日志在哪个文件**时，使用vim 查看

```
vim xxx

```

#### 1.3 文件名搜索文件

##### 1.3.1 find命令

```
find path -name fileName

```

其中path替换为需要检索的目录路径，例如

```
find /home -name test中文.txt

```

#### 1.4 vim内容检索

使用vim 进行内容检索
-  /关键词 使用正斜杠 + 关键词进行搜索，会**从首行开始**搜索至匹配的第一行，按**小写 n 跳转到下一个关键词**处。回到**上一匹配处，按大写 N(shift+n）**。 不管在什么时候，你都可以输**入ggn 来跳转到第一个匹配处**，或者**GN 来跳转到最后一处**。 -  ?关键词 使用？ + 关键词进行搜索，会**从末行开始**搜索至匹配的第一行。 
#### 1.5tail -f 保持日志的滚动

一般用于应用启动或者特殊命令时监控日志信息。

```
tial -f fileName

```

### 2、高亮关键信息

#### 2.1 高光显示

有些时候，关键词没有高光，在普通命令模式下使用 set hlsearch

```
:set hlsearch

```

:set nohlsearch 取消高亮效果

#### 2.2 显示行号

需要显示行号时，在普通命令模式下使用 set nu (或者 set number)

```
:set nu

```

取消行号

```
:set nonu

```

跳转到xx行

```
:xx

```

### 3、VIM其他操作

#### 3.1跳转

ctrl + f 向下**翻页**，ctrl + b 向上翻页 （$）shift + 4 跳转至**行尾**，（^）shift + 4 或者 数字 0 跳转至**行尾** gg 跳转至**文件首行**，G(shift + g)跳转**文件末行**
