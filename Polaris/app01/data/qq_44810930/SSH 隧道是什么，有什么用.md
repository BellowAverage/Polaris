
--- 
title:  SSH 隧道是什么，有什么用 
tags: []
categories: [] 

---
<img src="https://img-blog.csdnimg.cn/direct/a2a207894327493a8bf363c762aa7acc.png" alt="在这里插入图片描述"> 本地主机（A）：需要访问目标服务器的主机。 跳板服务器（B）：位于本地主机和目标服务器之间的第三方服务器。跳板服务器上已经配置好SSH服务，并允许SSH隧道传输。 目标服务器（C）：要访问的远程服务器。



#### 文章目录
- <ul><li>- - 


### 工作流程

SSH隧道的工作流程如下：
1. 本地主机与跳板服务器之间建立SSH连接。这个连接是经过加密的，确保数据在传输过程中的安全性。1. 在SSH连接上，本地主机请求在跳板服务器上建立一个SSH隧道。1. SSH隧道在跳板服务器和目标服务器之间建立一个加密通道，用于传输数据。1. 本地主机将要传输的数据发送给跳板服务器，数据将通过SSH隧道传输到目标服务器。1. 目标服务器接收到数据，并将响应发送回本地主机，同样通过SSH隧道返回。1. 本地主机接收到响应数据，完成数据传输过程。
通过使用SSH隧道，本地主机可以在不直接与目标服务器通信的情况下，安全地传输数据。这种加密的隧道保护了数据的机密性和完整性，使得数据传输过程更加安全可靠。

### 用途
-  加密传输：使用SSH隧道可以在公共网络上创建一个安全的、加密的通道，保护敏感数据不被窃听或篡改。这对于远程访问以及进行安全的文件传输和数据库查询等场景非常有用。 -  穿透防火墙：许多企业和机构使用防火墙来限制对其内部网络的访问，而SSH隧道可以帮助用户穿透这些限制，从而实现对内部资源的访问。 -  代理服务器：SSH隧道还可以用作代理服务器，将所有客户端的流量通过隧道转发至另一台主机，从而帮助用户绕过网络过滤器和防火墙限制，访问被封锁的网站或服务。 -  远程调试：SSH隧道可以用于在远程主机上进行调试，例如在调试远程Web服务器时，将本地端口映射到远程服务器上的调试端口，从而可以在本地浏览器中查看远程Web应用程序的调试信息。 -  远程访问：通过SSH隧道，可以安全地远程登录到目标主机，以便执行命令、管理远程系统或访问远程资源。 -  文件传输：使用SSH隧道，可以在本地主机和远程主机之间进行安全的文件传输，确保文件的机密性和完整性。 -  端口转发：通过SSH隧道，可以将本地主机上的端口映射到远程主机上，或将远程主机上的端口映射到本地主机上。这对于访问受限服务或在分布式系统中建立通信链路非常有用。 -  VPN替代方案：SSH隧道可以用作简单的VPN替代方案，通过在两个主机之间建立加密通道来保护通信的隐私和安全。 


### 端口转发

使用SSH进行端口转发可以将本地主机上的端口映射到远程服务器或其他主机上，从而实现远程访问本地服务或访问远程服务的目的。有两种类型的端口转发：本地端口转发和远程端口转发。下面是使用SSH进行端口转发的步骤：
<li> 本地端口转发（Local Port Forwarding）： 
  <ul><li>在本地主机上打开终端或命令提示符，输入以下命令：<pre><code>ssh -L &lt;本地端口&gt;:&lt;目标地址&gt;:&lt;目标端口&gt; &lt;用户名&gt;@&lt;SSH服务器地址&gt;
</code></pre> 
    1. `&lt;本地端口&gt;`：您在本地主机上选择的一个空闲端口号，用于端口转发。1. `&lt;目标地址&gt;`：要访问的目标服务器或服务的地址（可以是本地或远程）。1. `&lt;目标端口&gt;`：要访问的目标服务器或服务的端口号。1. `&lt;用户名&gt;`：SSH服务器上的有效用户名。1. `&lt;SSH服务器地址&gt;`：SSH服务器的IP地址或域名。 例如，要将本地主机上的本地端口8888转发到远程服务器的80端口，命令如下： <pre><code>ssh -L 8888:localhost:80 user@ssh-server.example.com
</code></pre> </li>1. 输入SSH服务器的用户密码进行身份验证。1. 现在，本地主机上的8888端口将被转发到远程服务器上的80端口。您可以使用`localhost:8888`访问远程服务器上的服务。</ul> </li><li> 远程端口转发（Remote Port Forwarding）： 
  <ul><li>在本地主机上打开终端或命令提示符，输入以下命令：<pre><code>ssh -R &lt;远程端口&gt;:&lt;目标地址&gt;:&lt;目标端口&gt; &lt;用户名&gt;@&lt;SSH服务器地址&gt;
</code></pre> 
    1. `&lt;远程端口&gt;`：在SSH服务器上选择的一个空闲端口号，用于端口转发。1. `&lt;目标地址&gt;`：要访问的目标服务的地址（可以是本地或远程）。1. `&lt;目标端口&gt;`：要访问的目标服务的端口号。1. `&lt;用户名&gt;`：SSH服务器上的有效用户名。1. `&lt;SSH服务器地址&gt;`：SSH服务器的IP地址或域名。 例如，要将SSH服务器上的远程端口8888转发到本地主机的80端口，命令如下： <pre><code>ssh -R 8888:localhost:80 user@ssh-server.example.com
</code></pre> </li>1. 输入SSH服务器的用户密码进行身份验证。1. 现在，远程服务器上的8888端口将被转发到本地主机上的80端口。您可以使用`ssh-server.example.com:8888`访问本地主机上的服务。</ul> </li><li>在本地主机上打开终端或命令提示符，输入以下命令：<pre><code>ssh -R &lt;远程端口&gt;:&lt;目标地址&gt;:&lt;目标端口&gt; &lt;用户名&gt;@&lt;SSH服务器地址&gt;
</code></pre> 
    <ul>- `&lt;远程端口&gt;`：在SSH服务器上选择的一个空闲端口号，用于端口转发。- `&lt;目标地址&gt;`：要访问的目标服务的地址（可以是本地或远程）。- `&lt;目标端口&gt;`：要访问的目标服务的端口号。- `&lt;用户名&gt;`：SSH服务器上的有效用户名。- `&lt;SSH服务器地址&gt;`：SSH服务器的IP地址或域名。 例如，要将SSH服务器上的远程端口8888转发到本地主机的80端口，命令如下：
通过使用SSH进行端口转发，您可以轻松地访问本地或远程主机上的服务，同时保持数据传输的安全性。请确保SSH服务器上已经配置了SSH服务，并允许端口转发。
